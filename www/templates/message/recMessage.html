<ion-view class="padding" ng-controller="MessageController as vm" title="{{vm.title}}">

  <div ng-include="'templates/common/common.title.html'"></div>

  <ion-content class="content has-header">
    <ion-refresher
      pulling-text="下拉刷新..."
      on-refresh="vm.refreshMessageList()">
    </ion-refresher>
    <div class="list">
      <a class="item item-icon-left item-icon-right" ng-repeat="msg in vm.messages" href="#/messageContent/{{msg.id}}">
        <span class="icon" ng-switch="msg.state">
          <span class="icon ion-email-unread" ng-switch-when="0"></span>
          <span class="icon ion-email" ng-switch-when="1"></span>
        </span>
        <span>{{msg.title}}</span>
        <span ng-switch="msg.state">
          <span ng-switch-when="0">(未读)</span>
           <span ng-switch-when="1">(已读)</span>
        </span>
        <span class="item-note">{{msg.sendDate}}</span>

      </a>
    </div>
  </ion-content>

</ion-view>
