!function(){"use strict";function e(e,t,n,a,o,s,i){function r(){console.log("done"),console.log(t.unReadMsgCount)}function c(){console.log("循环获取获取消息error")}function u(){}function l(){o.goBack()}function p(){s.go("recMessage")}t.unReadMsgCount=0,t.goBack=l,t.toMessagePage=p;var d="";i.setServerInfo();var m=n(function(){a.get(d).then(function(e){1==e.data.success&&(t.unReadMsgCount=e.data.data.count)},function(e){})},3e5);m.then(r,c,u)}function t(e,t,n,a,o){n.ready(function(){if(window.cordova&&window.cordova.plugins&&window.cordova.plugins.Keyboard&&(cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),cordova.plugins.Keyboard.disableScroll(!0)),window.StatusBar&&StatusBar.styleDefault(),window.codePush){var t;e.downloadMsg="";var n=function(e){t.close(),o.alert({title:"更新提示",template:"更新失败！"})},a=function(){t.close(),o.alert({title:"更新提示",template:"更新成功！"}).then(function(){codePush.restartApplication()})},s=function(e){return(e/1024).toFixed(2)},i=function(t){e.downloadMsg=s(t.receivedBytes)+"kb 共"+s(t.totalBytes)+"kb"},r=function(e){e.install(a,n,{installMode:InstallMode.ON_NEXT_RESUME,minimumBackgroundDuration:120,mandatoryInstallMode:InstallMode.ON_NEXT_RESTART})},c=function(a){a&&!a.failedInstall&&o.confirm({title:"更新提示",template:"有可用的新版本，是否需要更新？",cancelText:"否",okText:"是"}).then(function(s){s&&(t=o.show({template:"<span>正在下载 {{downloadMsg}}</span>",scope:e,title:"更新提示"}),a.download(r,n,i))})};window.codePush.checkForUpdate(c,n)}}),n.registerBackButtonAction(function(e){e.preventDefault();var n=t.path();return"/homePageNew"===n||"/login"===n?ionic.Platform.exitApp():a.backView?a.goBack():ionic.Platform.exitApp(),!1},101)}function n(e,t,n){n.platform.ios.tabs.style("standard"),n.platform.ios.tabs.position("bottom"),n.platform.android.tabs.style("standard"),n.platform.android.tabs.position("standard"),n.platform.ios.navBar.alignTitle("center"),n.platform.android.navBar.alignTitle("left"),n.platform.ios.backButton.previousTitleText("").icon("ion-ios-arrow-thin-left"),n.platform.android.backButton.previousTitleText("").icon("ion-android-arrow-back"),n.platform.ios.views.transition("ios"),n.platform.android.views.transition("android"),t.otherwise("/login")}n.$inject=["$stateProvider","$urlRouterProvider","$ionicConfigProvider"],e.$inject=["$scope","$rootScope","$interval","$http","$ionicHistory","$state","LoginService"],angular.module("app",["ionic","ngStorage","ngFileUpload","ng-echarts","ngCordova","app.login","app.home","app.savedDataModule","app.waitForWork","app.assessment","app.planDetails","app.assessmentStatus","app.assessmentStatusDetails","app.addAssessment","app.addAssessmentMap","app.gridCheck","app.problemFeedback","app.problemFeedbackDetails","app.account","app.accountDetails","app.history","app.map","app.appReceivedMessage","app.messageContent","app.setting","app.setNet","app.commonHttpService","app.commonMap"]).run(t).config(n).constant("SYS_INFO",{SERVER_PATH:"http://172.72.100.240",SERVER_PORT:"8090",VERSION:"1.0.0",DIGITS:2}).controller("AppController",e),e.$inject.LoginService,t.$inject=["$rootScope","$location","$ionicPlatform","$ionicHistory","$ionicPopup"]}(),function(){"use strict";angular.module("app.account",[])}(),function(){"use strict";angular.module("app.assessment",[])}(),function(){"use strict";angular.module("app.gridCheck",[])}(),function(){"use strict";angular.module("app.history",[])}(),function(){"use strict";angular.module("app.home",[])}(),function(){"use strict";angular.module("app.login",[])}(),function(){"use strict";angular.module("app.map",[])}(),function(){"use strict";angular.module("app.appReceivedMessage",[])}(),function(){"use strict";angular.module("app.problemFeedback",[])}(),function(){"use strict";angular.module("app.setNet",[])}(),function(){"use strict";angular.module("app.setting",[])}(),function(){"use strict";angular.module("app.waitForWork",[])}(),function(){"use strict";angular.module("app.accountDetails",[])}(),function(){"use strict";angular.module("app.addAssessment",[])}(),function(){"use strict";angular.module("app.assessmentStatusDetails",[])}(),function(){"use strict";angular.module("app.assessmentStatus",[])}(),function(){"use strict";angular.module("app.planDetails",[])}(),function(){"use strict";angular.module("app.commonHttpService",[])}(),function(){"use strict";angular.module("app.commonMap",[])}(),function(){"use strict";angular.module("app.savedDataModule",[])}(),function(){"use strict";angular.module("app.messageContent",[])}(),function(){"use strict";angular.module("app.problemFeedbackDetails",[])}(),function(){"use strict";angular.module("app.addAssessmentMap",[])}(),function(){"use strict";function e(e){function t(){}t()}angular.module("app.account").controller("AccountController",e),e.$inject=["$scope"]}(),function(){"use strict";function e(e){e.state("account",{url:"/account",templateUrl:"templates/account/account.html"})}angular.module("app.account").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e){var t={};return t}angular.module("app.account").service("AccountService",e),e.$inject=["$http"]}(),function(){"use strict";function e(e,t,n,a,o,s,i){function r(){}function c(e){n.go("planDetails",{assessmentData:e,fromWhere:"assessment"})}var u=this;u.title="综合考核",u.titleController={},u.toPlanDetails=c,u.planList=[{id:"1",workName:"6月份考核计划",startTime:"2017/6/1",endTime:"2017/6/1"},{id:"2",workName:"7月份考核计划",startTime:"2017/6/1",endTime:"2017/6/5"},{id:"3",workName:"8月份考核计划",startTime:"2017/6/1",endTime:"2017/6/5"},{id:"4",workName:"9月份考核计划",startTime:"2017/6/1",endTime:"2017/6/5"},{id:"5",workName:"10月份考核计划",startTime:"2017/6/1",endTime:"2017/6/5"},{id:"6",workName:"11月份考核计划",startTime:"2017/6/1",endTime:"2017/6/1"},{id:"7",workName:"12月份考核计划",startTime:"2017/6/1",endTime:"2017/6/1"},{id:"4",workName:"9月份考核计划",startTime:"2017/6/1",endTime:"2017/6/5"},{id:"4",workName:"9月份考核计划",startTime:"2017/6/1",endTime:"2017/6/5"},{id:"4",workName:"9月份考核计划",startTime:"2017/6/1",endTime:"2017/6/5"},{id:"4",workName:"9月份考核计划",startTime:"2017/6/1",endTime:"2017/6/5"},{id:"4",workName:"9月份考核计划",startTime:"2017/6/1",endTime:"2017/6/5"},{id:"4",workName:"9月份考核计划",startTime:"2017/6/1",endTime:"2017/6/5"},{id:"4",workName:"9月份考核计划",startTime:"2017/6/1",endTime:"2017/6/5"},{id:"4",workName:"9月份考核计划",startTime:"2017/6/1",endTime:"2017/6/5"},{id:"4",workName:"9月份考核计划",startTime:"2017/6/1",endTime:"2017/6/5"},{id:"4",workName:"9月份考核计划",startTime:"2017/6/1",endTime:"2017/6/5"},{id:"4",workName:"9月份考核计划",startTime:"2017/6/1",endTime:"2017/6/5"},{id:"4",workName:"9月份考核计划",startTime:"2017/6/1",endTime:"2017/6/5"},{id:"4",workName:"9月份考核计划",startTime:"2017/6/1",endTime:"2017/6/5"},{id:"4",workName:"9月份考核计划",startTime:"2017/6/1",endTime:"2017/6/5"}],r()}angular.module("app.assessment").controller("AssessmentController",e),e.$inject=["$rootScope","$scope","$state","AssessmentService","$ionicLoading","$ionicPopup","$timeout","$ionicHistory"]}(),function(){"use strict";function e(e){e.state("assessment",{url:"/assessment",templateUrl:"templates/assessment/assessment.html"})}angular.module("app.assessment").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n){function a(e){var t=""+e;return n.getCommonData(t)}var o={getPlanList:a};return o}angular.module("app.assessment").service("AssessmentService",e),e.$inject=["$http","SYS_INFO","MyHttpService"]}(),function(){"use strict";function e(e,t,n,a,o,s,i){function r(){var e=n.getGridCheckQuestionCodeArray();e?d.questionCode=e:d.questionCode=["道路不干净","垃圾桶占路"]}function c(){t.go("commonMap",{data:{},from:"gridCheck"})}function u(){var e={quality:50,destinationType:Camera.DestinationType.DATA_URL,sourceType:Camera.PictureSourceType.CAMERA,allowEdit:!0,encodingType:Camera.EncodingType.JPEG,targetWidth:200,targetHeight:200,popoverOptions:Camera.PopoverOptions,saveToPhotoAlbum:!0,correctOrientation:!0};$cordovaCamera.getPicture(e).then(function(e){o.alert({title:"sdda",template:"deviceready获取图片"+e+" "+(new moment).unix()});var t=document.getElementById("img");t.src="data:image/jpeg;base64,"+e,d.picName=moment().format("YYYY-MM-DD-HH:mm:ss")+".jpg",d.picData=e,console.log(d.picName)},function(e){o.alert({title:"照片获取失败，请重新拍照"})})}function l(){a.getAddressByGPS(function(t){d.locationObj.district=t.district,d.locationObj.street=t.street,e.$apply()})}function p(){n.uploadGridCheckData()}var d=this;d.title="网格化巡检",d.picPath="http://www.runoob.com/wp-content/uploads/2014/06/angular.jpg",d.picData="",d.picName="",d.selectedQuesCode="",d.questionCode=[],d.question="",d.locationObj={district:"",street:""},d.fun={toGridCheckMap:c,takeGridCheckPicture:u,getGridCheckLocation:l,uploadGridCheckData:p},r()}angular.module("app.gridCheck").controller("GridCheckController",e),e.$inject=["$scope","$state","GridCheckService","CommonMapService","$ionicPopup","$ionicLoading","$cordovaFileTransfer"]}(),function(){"use strict";function e(e){e.state("gridCheck",{url:"/gridCheck",params:{position:[]},templateUrl:"templates/gridCheck/gridCheck.html"})}angular.module("app.gridCheck").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n){function a(){return e.getCommonData()}function o(e){n.show({template:'<div class="common-loading-dialog-center">  <ion-spinner icon="ios"></ion-spinner>&nbsp;&nbsp;  <span>数据上传中...</span></div>',duration:1e4});var t=new FileUploadOptions,a={facilityIdentify:"217ae60e5bc746f",cyberkeyCode:"AQOhlmsQAAKgCoi",tenantId:1};t.params=a,$cordovaFileTransfer.upload(encodeURI(url),e,t).then(function(e){console.log(JSON.stringify(e.response)),console.log("success"),n.hide()},function(e){console.log(JSON.stringify(e)),console.log("fail"),n.hide()},function(e){})}var s={getGridCheckQuestionCodeArray:a,uploadGridCheckData:o};return s}angular.module("app.gridCheck").service("GridCheckService",e),e.$inject=["MyHttpService","$ionicPopup","$ionicLoading"]}(),function(){"use strict";function e(e,t){function n(){}function a(e){$state.go("planDetails",{assessmentData:e,fromWhere:"history"})}var o=this;o.title="历史考核记录",o.fun={toPlanDetails:a},o.toPlanDetails=a,o.historyList=[{id:"1",workName:"6月份考核计划",year:"2017年",month:"六月"},{id:"2",workName:"7月份考核计划",year:"2017年",month:"七月"},{id:"3",workName:"8月份考核计划",year:"2017年",month:"八月"},{id:"4",workName:"9月份考核计划",year:"2017年",month:"九月"}],n()}angular.module("app.history").controller("HistoryController",e),e.$inject=["$scope","HistoryService"]}(),function(){"use strict";function e(e){e.state("history",{url:"/history",templateUrl:"templates/history/history.html"})}angular.module("app.history").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t){function n(e){var n="";return t.getCommonData(n)}function a(e,n,a){var o="";return t.getCommonData(o)}var o={getHistoryData:n,getHistoryDataByCondition:a};return o}angular.module("app.history").service("HistoryService",e),e.$inject=["$http","MyHttpService"]}(),function(){"use strict";function e(e,t,n,a,o,s,i,r,c,u){function l(){r.getWeather()&&(D.weather=r.getWeather()),console.log(D.weather),D.savedData=s.getSavedUploadedData(),D.savedData&&(D.hasSavedData=!0,D.saveDataNum=D.savedData.length)}function p(){a.go("waitForWork")}function d(){a.go("assessment")}function m(){a.go("gridCheck")}function g(){a.go("problemFeedback")}function f(){a.go("account")}function v(){a.go("history")}function h(){a.go("map")}function $(){a.go("recMessage")}function S(){a.go("setting")}function w(){a.go("savedData",{savedData:D.savedData})}var D=this;D.title="请选择工作",D.hasSavedData=!0,D.saveDataNum="20",D.savedData={},D.weather={},D.msgCount=e.unReadMsgCount,D.homeWorkController={toWaitForWork:p,toComprehensiveAssessment:d,toGridCheck:m,toProblemFeedback:g,toAccount:f,toHistory:v,toMap:h,toMessage:$,toSettings:S,toSavedData:w},l()}angular.module("app.home").controller("HomeController",e),e.$inject=["$rootScope","$localStorage","$scope","$state","$filter","HomeService","SYS_INFO","GetWeatherService","$stateParams","$interval"]}(),function(){"use strict";function e(e){e.state("home",{url:"/home",cache:!0,templateUrl:"templates/home/home.html"})}angular.module("app.home").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o){function s(){return e.savedData?e.savedData:null}var i={getSavedUploadedData:s};return i}function t(e,t,n){function a(){return e.get(s).then(function(e){e.data?(i.weatherDate=(new Date).Format("MM月dd日"),i.address="青岛",i.temperature=o(e.data),i.weather=e.data.data.forecast[0].type):(i.weatherDate=(new Date).Format("MM月dd日"),i.address="青岛",i.temperature="20度",i.weather="晴")},function(e){i.weatherDate=(new Date).Format("MM月dd日"),i.address="青岛",i.temperature="20度",i.weather="晴"}),console.log(i),i}function o(e){if(e.data){var t=e.data.forecast[0].low.substring(3,5),n=e.data.forecast[0].high.substring(3,5),a=t+"~"+n+"度";return a}return""}var s=t.SERVER_PATH+":"+t.SERVER_PORT+"/hwweb/Weather/WeatherJson.action",i={};Date.prototype.Format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e};var r={getWeather:a};return r}angular.module("app.home").service("GetWeatherService",t).factory("HomeService",e),e.$inject=["$localStorage","$http","SYS_INFO","$interval","$rootScope"],t.$inject=["$http","SYS_INFO","$interval"]}(),function(){"use strict";function e(e,t,n,a){function o(){t.go("setNet",{imei:e.imei})}function s(){t.go("home")}e.doLogin=s,e.setNetAddress=o,e.isCommonAccount=!1,e.userInfo=n.getUserInfo(),e.imei="123456",e.info={userName:e.userInfo.userName,password:e.userInfo.password,isRemAccountAndPwd:e.userInfo.isRemAccountAndPwd}}var t=angular.module("app.login");t.controller("LoginController",e),e.$inject=["$scope","$state","LoginService","$cordovaCamera"]}(),function(){function e(e){e.state("login",{url:"/login",templateUrl:"templates/login/login.html"})}angular.module("app.login").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o,s,i,r,c){function u(e,s,i,r,c,u){o.show({template:"正在登录..."}),a(function(){o.hide()},3e4),s=hex_md5(s);var d="/hwweb/AppUser/userLogin.action?";switch(r){case!1:t.get(n.SERVER_PATH+":"+n.SERVER_PORT+d+"account="+e+"&password="+s+"&imei="+i).then(function(e){l(e,c,u)},function(e){p(e)});break;case!0:t.get(n.SERVER_PATH+":"+n.SERVER_PORT+d+"account="+e+"&password="+s).then(function(e){l(e,c,u)},function(e){p(e)})}}function l(e,t,n){"1"==e.data.success?a(function(){t?m(n):v(),d(e.data.data[0])},100).then(function(){o.hide(),c.go("home")}):(o.hide(),s.alert({title:e.data.msg}).then(function(e){}))}function p(e){o.hide(),s.alert({title:"登陆失败",template:e.data}).then(function(e){})}function d(e){e?(i.userId=e.id,i.userName=e.name,i.userOrg=e.org):(i.userId="",i.userName="",i.userOrg="")}function m(t){var n={userName:"",password:"",isRemAccountAndPwd:!1};t&&(n.userName=t.userName,n.password=t.password,n.isRemAccountAndPwd=t.isRemAccountAndPwd),e.userInfo=n}function g(){function e(){return r.getUUID()}document.addEventListener("deviceready",e,!1)}function f(){var t={userName:"",password:"",isRemAccountAndPwd:!1};return e.userInfo&&(t.userName=e.userInfo.userName,t.password=e.userInfo.password,t.isRemAccountAndPwd=e.userInfo.isRemAccountAndPwd),t}function v(){delete e.userInfo}function h(){var t={SERVER_PATH:"",SERVER_PORT:""};e.serverInfo?(n.SERVER_PATH=e.serverInfo.SERVER_PATH,n.SERVER_PORT=e.serverInfo.SERVER_PORT):(t.SERVER_PATH=n.SERVER_PATH,t.SERVER_PORT=n.SERVER_PORT,e.serverInfo=t)}var $={login:u,getUserInfo:f,setServerInfo:h,getImei:g};return $}angular.module("app.login").service("LoginService",e),e.$inject=["$localStorage","$http","SYS_INFO","$timeout","$ionicLoading","$ionicPopup","$rootScope","$cordovaDevice","$state"]}(),function(){"use strict";function e(e,t,n){function a(){var e=t.getWeather();e&&(o.weather=e),n.initMap()}var o=this;o.title="地图查询",o.position="市南区",o.weather={},a()}angular.module("app.map").controller("MapController",e),e.$inject=["$scope","GetWeatherService","MyMapService"]}(),function(){"use strict";function e(e){e.state("map",{url:"/map",templateUrl:"templates/map/map.html"})}angular.module("app.map").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e){function t(){}var n={initMap:t};return n}angular.module("app.map").service("MapService",e),e.$inject=["$http"]}(),function(){"use strict";function e(e,t){function n(){}function a(){}function o(e){}var s=this;s.title="已收到消息",s.refreshMessageList=a,s.openMsgContent=o,s.messages=[{title:"测试消息1",status:0,date:"2017/8/10",content:"有要事相讨~",attachmentAddress:"http://bpic.588ku.com/element_origin_min_pic/01/42/49/94573d7d67103c2.jpg"},{title:"测试消息1",status:1,date:"2017/8/10",content:"有要事相讨~",attachmentAddress:"http://bpic.588ku.com/element_origin_min_pic/01/42/49/94573d7d67103c2.jpg"},{title:"测试消息1",status:0,date:"2017/8/10",content:"有要事相讨~",attachmentAddress:"http://bpic.588ku.com/element_origin_min_pic/01/42/49/94573d7d67103c2.jpg"},{title:"测试消息1",status:1,date:"2017/8/10",content:"有要事相讨~",attachmentAddress:"http://bpic.588ku.com/element_origin_min_pic/01/42/49/94573d7d67103c2.jpg"}],n()}angular.module("app.appReceivedMessage").controller("MessageController",e),e.$inject=["$scope","MessageService"]}(),function(){"use strict";function e(e){e.state("recMessage",{url:"/recMessage",templateUrl:"templates/message/recMessage.html"})}angular.module("app.appReceivedMessage").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t){function n(){var n=t.SERVER_PATH+":"+t.SERVER_PORT;e.get(n,function(e){if(1==e.data.success){var t=e.date.data;return t}},function(e){})}var a={getMessage:n};return a}angular.module("app.appReceivedMessage").service("MessageService",e),e.$inject=["$http","SYS_INFO"]}(),function(){"use strict";function e(e){function t(){}t()}angular.module("app.problemFeedback").controller("ProblemFeedbackController",e),e.$inject=["$scope"]}(),function(){"use strict";function e(e){e.state("problemFeedback",{url:"/problemFeedback",templateUrl:"templates/problemFeedback/problemFeedback.html"})}angular.module("app.problemFeedback").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e){var t={};return t}angular.module("app.setting").service("userInfoService",e),e.$inject=["$http"]}(),function(){"use strict";function e(e,t,n,a,o){e.netSetList=[{placeholderValue:"服务器地址：",value:n.SERVER_PATH},{placeholderValue:"服务器端口：",value:n.SERVER_PORT}],e.IMEI=o.imei,e.setNet=function(){t.saveNetSettings(e.netSetList[0].value,e.netSetList[1].value,function(){a.goBack()})},e.backToLogin=function(){a.goBack()}}angular.module("app.setNet").controller("SetNetController",e),e.$inject=["$scope","SetNetService","SYS_INFO","$ionicHistory","$stateParams"]}(),function(){function e(e){e.state("setNet",{url:"/setNet",params:{imei:""},cache:!1,controller:"SetNetController",templateUrl:"templates/setNet/net.html"})}angular.module("app.setNet").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t){function n(n,a,o){var s={SERVER_PATH:n,SERVER_PORT:a};e.serverInfo=s,t.SERVER_PATH=s.SERVER_PATH,t.SERVER_PORT=s.SERVER_PORT,o()}var a={saveNetSettings:n};return a}angular.module("app.setNet").service("SetNetService",e),e.$inject=["$localStorage","SYS_INFO"]}(),function(){"use strict";function e(e,t,n){function a(){var e=n.getWeather();e&&(o.weather=e)}var o=this;o.title="个人信息",o.group=e.userOrg,o.name=e.userName,o.weather={},a()}angular.module("app.setting").controller("SettingController",e),e.$inject=["$rootScope","$scope","GetWeatherService"]}(),function(){"use strict";function e(e){e.state("setting",{url:"/setting",templateUrl:"templates/setting/setting.html"})}angular.module("app.setting").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e){var t={};return t}angular.module("app.setting").service("userInfoService",e),e.$inject=["$http"]}(),function(){"use strict";function e(e,t,n,a){function o(){console.log(n.userId),i.workList=t.getWaitForWorkInfo(n.userId),console.log(i.workList)}function s(e){"无"==e.sDate?a.go("assessmentStatus",{planDetailsData:e}):a.go("planDetails",{assessmentData:e,fromWhere:"waitForWork"})}var i=this;i.title="代办工作",i.titleController={},i.toJobDetails=s,i.workList=[{id:"cc07edd7-892a-4bf0-96dc-52301699663c",planName:"6月份综合考核",sDate:"2017/6/1",eDate:"2017/6/1"},{id:"cc07edd7-892a-4bf0-96dc-52301699663c",planName:"6月份综合考核",sDate:"2017/6/1",eDate:"2017/6/1"},{id:"cc07edd7-892a-4bf0-96dc-52301699663c",planName:"6月份综合考核",sDate:"2017/6/1",eDate:"2017/6/1"},{id:"cc07edd7-892a-4bf0-96dc-52301699663c",planName:"6月份综合考核",sDate:"2017/6/1",eDate:"2017/6/1"}],o()}angular.module("app.waitForWork").controller("WaitForWorkController",e),e.$inject=["$scope","WaitForWorkService","$rootScope","$state"]}(),function(){"use strict";function e(e){e.state("waitForWork",{url:"/waitForWork",templateUrl:"templates/waitForWork/waitForWork.html"})}angular.module("app.waitForWork").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o,s,i,r,c,u){function l(t){var n="/hwweb/AssignmentAssessment/findDataByUserId?userId="+t,a=e.getCommonData(n);return a}var p={getWaitForWorkInfo:l};return p}angular.module("app.waitForWork").service("WaitForWorkService",e),e.$inject=["MyHttpService","$localStorage","$http","SYS_INFO","$timeout","$ionicLoading","$ionicPopup","$rootScope","$cordovaDevice","$state"]}(),function(){"use strict";function e(e){function t(){}var n=this;n.installationName="",t()}angular.module("app.accountDetails").controller("AccountDetailsController",e),e.$inject=["$scope"]}(),function(){"use strict";function e(e){e.state("accountDetails",{url:"/accountDetails",templateUrl:"templates/account/account.html"})}angular.module("app.accountDetails").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e){var t={};return t}angular.module("app.accountDetails").service("AccountDetailsService",e),e.$inject=["$http"]}(),function(){"use strict";function e(e,t,n,a,o,s,i){function r(){}function c(){n.go("addAssessmentMap")}function u(){}var l=this;l.data={},l.title="录入计划",l.fun={toAddAssessmentMap:c,takePicture:u},l.assessmentStatusDetailsList={questionId:"1",address:"银川路",problem:"垃圾桶占路",cleaningLevel:"特级",roadLevel:"主干道",roadLength:"1600米",roadWidth:"30米",points:"-1.5",remarks:"备注",targetPosition:"129.134",picPath:["http://www.runoob.com/wp-content/uploads/2014/06/angular.jpg","http://www.chinagvs.com/ShopHome/Tpl/Public/images/left-logo.jpg","http://www.runoob.com/wp-content/uploads/2014/06/angular.jpg"]},r()}angular.module("app.addAssessment").controller("AddAssessmentController",e),e.$inject=["$rootScope","$scope","$state","$stateParams","AssessmentStatusDetailsService","$ionicLoading","$ionicPopup"]}(),function(){"use strict";function e(e){e.state("addAssessment",{url:"/addAssessment",templateUrl:"templates/assessment/addAssessment/addAssessment.html"})}angular.module("app.addAssessment").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n){function a(e,t,n,a){}function o(){document.addEventListener("deviceready",function(){var e={quality:50,destinationType:Camera.DestinationType.DATA_URL,sourceType:Camera.PictureSourceType.CAMERA,allowEdit:!0,encodingType:Camera.EncodingType.JPEG,targetWidth:100,targetHeight:100,popoverOptions:CameraPopoverOptions,saveToPhotoAlbum:!1,correctOrientation:!0};n.getPicture(e).then(function(e){var t=document.getElementById("myImage");t.src="data:image/jpeg;base64,"+e},function(e){})},!1)}function s(){document.addEventListener("deviceready",function(){var e={destinationType:Camera.DestinationType.FILE_URI,sourceType:Camera.PictureSourceType.CAMERA};n.getPicture(e).then(function(e){var t=document.getElementById("myImage");t.src=e},function(e){}),n.cleanup().then()},!1)}var i={addNewAssessment:a,getPhonePictureData:o,getPhonePicturePath:s};return i}angular.module("app.addAssessment").service("AddAssessmentService",e),e.$inject=["$http","SYS_INFO","$cordovaCamera"]}(),function(){"use strict";function e(e,t,n,a,o,s,i){function r(){c()}function c(){var e=new AMap.LngLat(116.397428,39.90923);t.mapObj=new AMap.Map("map",{view:new AMap.View2D({center:e,zoom:10,rotation:0}),lang:"zh_cn"}),console.log("走到这儿啦")}function u(){}function l(){}var p=this;p.data={},p.title="",p.titleController={backToBeforePage:u,enterMsg:l},p.initAmap=c,p.assessmentStatusDetailsList={questionId:"1",address:"银川路",problem:"垃圾桶占路",cleaningLevel:"特级",roadLevel:"主干道",roadLength:"1600米",roadWidth:"30米",points:"-1.5",remarks:"备注",targetPosition:"129.134",picPath:["http://www.runoob.com/wp-content/uploads/2014/06/angular.jpg","http://www.chinagvs.com/ShopHome/Tpl/Public/images/left-logo.jpg","http://www.runoob.com/wp-content/uploads/2014/06/angular.jpg"]},r()}angular.module("app.assessmentStatusDetails").controller("AssessmentStatusDetailsController",e),e.$inject=["$rootScope","$scope","$state","$stateParams","AssessmentStatusDetailsService","$ionicLoading","$ionicPopup"]}(),function(){"use strict";function e(e){e.state("assessmentStatusDetails",{url:"/assessmentStatusDetails",params:{assessmentStatusData:null},templateUrl:"templates/assessment/assessmentStatusDetails/assessmentStatusDetails.html"})}angular.module("app.assessmentStatusDetails").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n){function a(e){var t=""+e;return MyHttpService.getCommonData(t)}function o(){document.addEventListener("deviceready",function(){var e={quality:50,destinationType:Camera.DestinationType.DATA_URL,sourceType:Camera.PictureSourceType.CAMERA,allowEdit:!0,encodingType:Camera.EncodingType.JPEG,targetWidth:100,targetHeight:100,popoverOptions:CameraPopoverOptions,saveToPhotoAlbum:!1,correctOrientation:!0};n.getPicture(e).then(function(e){var t=document.getElementById("myImage");t.src="data:image/jpeg;base64,"+e},function(e){})},!1)}function s(){document.addEventListener("deviceready",function(){var e={destinationType:Camera.DestinationType.FILE_URI,sourceType:Camera.PictureSourceType.CAMERA};n.getPicture(e).then(function(e){var t=document.getElementById("myImage");t.src=e},function(e){}),n.cleanup().then()},!1)}var i={getAssessmentStatusDetailsList:a,getPhonePictureData:o,getPhonePicturePath:s};return i}angular.module("app.assessmentStatusDetails").service("AssessmentStatusDetailsService",e),e.$inject=["$http","SYS_INFO","$cordovaCamera"]}(),function(){"use strict";function e(e,t,n,a,o,s,i){function r(){}function c(){}function u(){}function l(e){n.go("assessmentStatusDetails",{assessmentStatusData:e})}var p=this;p.title="考核情况",p.data=a.planDetailsData,p.titleController={backToBeforePage:c,enterMsg:u},p.toAssessmentStatusDetails=l,p.assessmentStatusList=[{id:"1",address:"山东路",problem:"废弃物超标",points:"1"},{id:"2",address:"银川路",problem:"垃圾桶占路",points:"2"},{id:"3",address:"山东路",problem:"废弃物超标",points:"1"},{id:"4",address:"银川路",problem:"垃圾桶占路",points:"2"},{id:"5",address:"山东路",problem:"废弃物超标",points:"1"},{id:"6",address:"银川路",problem:"垃圾桶占路",points:"2"},{id:"7",address:"山东路",problem:"废弃物超标",points:"1"},{id:"8",address:"银川路",problem:"垃圾桶占路",points:"2"}],r()}angular.module("app.assessmentStatus").controller("AssessmentStatusController",e),e.$inject=["$rootScope","$scope","$state","$stateParams","AssessmentStatusService","$ionicLoading","$ionicPopup"]}(),function(){"use strict";function e(e){e.state("assessmentStatus",{url:"/assessmentStatus",params:{planDetailsData:null},cache:!0,templateUrl:"templates/assessment/assessmentStatus/assessmentStatus.html"})}angular.module("app.assessmentStatus").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n){function a(e){var t=""+e;return n.getCommonData(t)}var o={getAssessmentStatusList:a};return o}angular.module("app.assessmentStatus").service("AssessmentStatusService",e),e.$inject=["$http","SYS_INFO","MyHttpService"]}(),function(){"use strict";function e(e,t,n,a,o,s,i){function r(){}function c(){n.go("addAssessment")}function u(e){n.go("assessmentStatus",{planDetailsData:e})}var l=this;l.data=a.assessmentData,l.title=l.data.workName,l.fromWhere="assessment",l.fun={toAddAssessment:c},l.toAssessmentStatus=u,l.planDetailsList=[{id:"1",name:"山东路",type:"道路",status:"0"},{id:"2",name:"香港路",type:"道路",status:"1"},{id:"3",name:"江西路",type:"道路",status:"1"},{id:"4",name:"宁夏路公厕",type:"道路",status:"1"},{id:"5",name:"银川路公厕",type:"道路",status:"1"},{id:"6",name:"山东路",type:"道路",status:"1"},{id:"6",name:"山东路",type:"道路",status:"1"},{id:"6",name:"山东路",type:"道路",status:"1"},{id:"6",name:"山东路",type:"道路",status:"1"},{id:"6",name:"山东路",type:"道路",status:"1"},{id:"6",name:"山东路",type:"道路",status:"1"},{id:"6",name:"山东路",type:"道路",status:"1"},{id:"6",name:"山东路",type:"道路",status:"1"},{id:"6",name:"山东路",type:"道路",status:"1"},{id:"6",name:"山东路",type:"道路",status:"1"},{id:"6",name:"山东路",type:"道路",status:"1"},{id:"6",name:"山东路",type:"道路",status:"1"},{id:"6",name:"山东路",type:"道路",status:"1"},{id:"6",name:"山东路",type:"道路",status:"1"},{id:"6",name:"山东路",type:"道路",status:"1"}],r()}angular.module("app.planDetails").controller("PlanDetailsController",e),e.$inject=["$rootScope","$scope","$state","$stateParams","PlanDetailsService","$ionicLoading","$ionicPopup"]}(),function(){"use strict";function e(e){e.state("planDetails",{url:"/assessment/planDetails",params:{assessmentData:null,formWhere:""},cache:!0,templateUrl:"templates/assessment/planDetails/planDetails.html"})}angular.module("app.planDetails").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t){function n(e,t){var n="";switch(t){case"waitForWork":n="/hwweb/AssignmentAssessment/findPlanView.action?planId="+e;break;case"assessment":n=""}return MyHttpService.getCommonData(n)}var a={getPlanDetailsList:n};return a}angular.module("app.planDetails").service("PlanDetailsService",e),e.$inject=["$http","SYS_INFO"]}(),function(){"use strict";function e(e,t,n,a){function o(n){return t.show({templateUrl:"templates/common/common.loadingData.html",duration:2e4}),e({method:"GET",url:a.SERVER_PATH+":"+a.SERVER_PORT+n}).then(function(e){s&&s(e)},function(e){i&&i(e)}),c}function s(e){1==e.data.success?(t.hide(),c=e.data.data):(t.hide(),n.alert({title:e.data.msg}).then(function(e){}))}function i(e){t.hide(),n.alert({title:"获取数据失败",template:e.data}).then(function(e){})}var r={getCommonData:o};return r;var c}angular.module("app.commonHttpService").service("MyHttpService",e),e.$inject=["$http","$ionicLoading","$ionicPopup","SYS_INFO"]}(),function(){"use strict";function e(e,t,n,a){function o(){switch(r.fromWhere){case"gridCheck":null==r.data||void 0==r.data?a.initMap():(r.map=a.initMap(),a.getCoordinateInfo(function(e){r.marker=a.initMyPosition(r.map,e),r.map.on("click",function(e){marker.setPosition(e.lnglat),r.postion=e.lnglat,console.log(e.lnglat)})}));break;case"addAssessment":}}function s(){a.getCoordinateInfo(function(e){r.marker.setPosition(e),r.map.setZoom(12),r.map.setCenter(e)})}function i(){$state.go("gridCheck",{position:r.postion})}var r=this;r.data={},r.title="地图详情",r.fun={},r.data=n.data,r.fromWhere=n.from,r.map,r.marker,r.postion=[],r.fun={refreshMyPosition:s,sendPosition:i},o()}angular.module("app.commonMap").controller("CommonMapController",e),e.$inject=["$rootScope","$scope","$stateParams","CommonMapService"]}(),function(){"use strict";function e(e){e.state("commonMap",{url:"/commonMap",params:{data:null,from:null},templateUrl:"templates/common/map/commonMap.html"})}angular.module("app.commonMap").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o){function s(){t.show({template:'<div class="common-loading-dialog-center">  <ion-spinner icon="ios"></ion-spinner>&nbsp;&nbsp;  <span>地图数据加载中...</span></div>',
duration:5e3});var e=new AMap.Map("map",{resizeEnable:!0,zoom:12,lang:"zh_cn"});return e.plugin(["AMap.ToolBar"],function(){var t=new AMap.ToolBar;e.addControl(t)}),t.hide(),e}function i(e){t.show({template:'<div class="common-loading-dialog-center">  <ion-spinner icon="ios"></ion-spinner>&nbsp;&nbsp;  <span>地图数据加载中...</span></div>',duration:5e3});new AMap.Map("map");map.setZoom(10),map.setCenter([116.39,39.9]),t.hide()}function r(e,n){t.show({template:'<div class="common-loading-dialog-center">  <ion-spinner icon="ios"></ion-spinner>&nbsp;&nbsp;  <span>地图数据加载中...</span></div>',duration:2e4});var n=new AMap.LngLat(116.397428,39.90923);new AMap.Map("map",{view:new AMap.View2D({center:n,zoom:10,rotation:0}),lang:"zh_cn"});t.hide()}function c(e,t){e.setCenter(t);var n=new AMap.Marker({position:t});return n.setMap(e),n.setTitle("我的位置"),n}function u(e){t.show({template:'<div class="common-loading-dialog-center">  <ion-spinner icon="ios"></ion-spinner>&nbsp;&nbsp;  <span>定位中...</span></div>',duration:1e4});var n=new Array;o.getCurrentPosition({timeout:1e4,enableHighAccuracy:!1}).then(function(a){n[0]=a.coords.longitude,n[1]=a.coords.latitude,e(n),t.hide(),console.log("定位成功，坐标数组："+n)},function(a){n[0]=120.41317,n[1]=36.07705,e(n),t.hide(),console.log("获取坐标失败：code:"+a.code+"***msg:"+a.msg)})}function l(e){var t={};return AMap.plugin("AMap.Geocoder",function(){var n=new AMap.Geocoder({city:"010"});n.getAddress(e,function(e,n){if("complete"==e)return t.district=n.regeocode.addressComponent.city+n.regeocode.addressComponent.district,t.street=n.regeocode.addressComponent.street,console.log(n),t})}),t}function p(e){t.show({template:'<div class="common-loading-dialog-center">  <ion-spinner icon="ios"></ion-spinner>&nbsp;&nbsp;  <span>定位中...</span></div>',duration:1e4});var n=[];o.getCurrentPosition({timeout:1e4,enableHighAccuracy:!1}).then(function(a){n[0]=a.coords.longitude,n[1]=a.coords.latitude,t.hide(),console.log("定位成功，坐标数组："+n),AMap.plugin("AMap.Geocoder",function(){var t=new AMap.Geocoder({city:"010"});t.getAddress(n,function(t,n){if("complete"==t){var a={};a.district=n.regeocode.addressComponent.city+n.regeocode.addressComponent.district,a.street=n.regeocode.addressComponent.street,e(a),console.log(n)}else console.log("获取地理位置信息失败！"+t+n)})})},function(a){t.hide(),console.log("获取坐标失败：code:"+a.code+"***msg:"+a.msg),AMap.plugin("AMap.Geocoder",function(){var t=new AMap.Geocoder({city:"010"});t.getAddress(n,function(t,n){if("complete"==t){var a={};a.district=n.regeocode.addressComponent.city+n.regeocode.addressComponent.district,a.street=n.regeocode.addressComponent.street,e(a),console.log(n)}else console.log("获取地理位置信息失败！"+t+n)})})})}var d={initMap:s,initRoadMap:i,initInstallationMap:r,initMyPosition:c,getCoordinateInfo:u,getAddressByLatitudeAndLongitude:l,getAddressByGPS:p};return d}angular.module("app.commonMap").service("CommonMapService",e),e.$inject=["$http","$ionicLoading","$ionicPopup","SYS_INFO","$cordovaGeolocation"]}(),function(){"use strict";function e(e,t,n,a,o,s,i,r,c){function u(){d.savedData=c.getSavedUploadedData()}function l(e){}function p(e){}var d=this;d.title="本地内容",d.savedData={data:[{time:"2017/8/10/pm8:00",address:"山东路",points:"-1",reason:"道路不净",remark:"这是备注",img:[]},{time:"2017/8/10/pm6:00",address:"银川路",points:"-2",reason:"垃圾桶占路",remark:"这是备注",img:[]},{time:"2017/8/10/pm9:00",address:"镇江路",points:"-1",reason:"道路不净",remark:"这是备注",img:[]},{time:"2017/8/10/pm10:00",address:"江西路",points:"-2",reason:"垃圾桶占路",remark:"这是备注",img:[]}]},d.fun={uploadData:l,deleteSavedData:p},u()}angular.module("app.savedDataModule").controller("SavedDataController",e),e.$inject=["$scope","$state","$filter","Session","homeService","SYS_INFO","GetWeather","$stateParams","SavedDataService"]}(),function(){"use strict";function e(e){e.state("savedData",{url:"/savedData",cache:!0,params:{savedData:null},templateUrl:"templates/home/savedData/savedData.html"})}angular.module("app.savedDataModule").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a,o,s){function i(){if(s.savedData)return s.savedData}function r(e){}function c(){}var u={getSavedUploadedData:i,uploadData:r,deleteSavedData:c};return u}angular.module("app.savedDataModule").service("SavedDataService",e),e.$inject=["$http","SYS_INFO","Session","$interval","$localStorage","$stateParams"]}(),function(){"use strict";function e(e){function t(){}var n=this;n.title="消息详情",t()}angular.module("app.messageContent").controller("MessageContentController",e),e.$inject=["$scope"]}(),function(){"use strict";function e(e){e.state("messageContent",{url:"/messageContent",templateUrl:"templates/message/messageContent/messageContent.html"})}angular.module("app.messageContent").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e){var t={};return t}angular.module("app.messageContent").service("MessageContentService",e),e.$inject=["$http"]}(),function(){"use strict";function e(e){function t(){}t()}angular.module("app.problemFeedbackDetails").controller("ProblemFeedbackDetailsController",e),e.$inject=["$scope"]}(),function(){"use strict";function e(e){e.state("problemFeedbackDetails",{url:"/problemFeedbackDetails",templateUrl:"templates/problemFeedback/problemFeedback.html"})}angular.module("app.problemFeedbackDetails").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e){var t={};return t}angular.module("app.problemFeedbackDetails").service("ProblemFeedbackDetailsService",e),e.$inject=["$http"]}(),function(){"use strict";function e(e,t,n,a,o){function s(){o.initAddAssessmentMap()}var i=this;i.data={},i.title="地图详情",i.fun={},i.assessmentStatusDetailsList={questionId:"1",address:"银川路",problem:"垃圾桶占路",cleaningLevel:"特级",roadLevel:"主干道",roadLength:"1600米",roadWidth:"30米",points:"-1.5",remarks:"备注",targetPosition:"129.134",picPath:["http://www.runoob.com/wp-content/uploads/2014/06/angular.jpg","http://www.chinagvs.com/ShopHome/Tpl/Public/images/left-logo.jpg","http://www.runoob.com/wp-content/uploads/2014/06/angular.jpg"]},s()}angular.module("app.addAssessment").controller("AddAssessmentMapController",e),e.$inject=["$rootScope","$scope","$state","$stateParams","AddAssessmentService"]}(),function(){"use strict";function e(e){e.state("addAssessmentMap",{url:"/addAssessmentMap",templateUrl:"templates/assessment/addAssessment/addAssessmentMap/addAssessmentMap.html"})}angular.module("app.addAssessmentMap").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,a){function o(){a.initMap(i)}var s={initAddAssessmentMap:o};return s;var i}angular.module("app.addAssessmentMap").service("AddAssessmentService",e),e.$inject=["$http","SYS_INFO","$cordovaCamera","CommonMapService"]}();