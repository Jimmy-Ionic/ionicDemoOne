!function(){"use strict";function t(t,e,a,n,o,i,s){function r(){console.log("done"),console.log(e.unReadMsgCount)}function c(){console.log("循环获取获取消息error")}function u(){}function l(){o.goBack()}function p(){i.go("recMessage")}e.unReadMsgCount=0,e.goBack=l,e.toMessagePage=p;var d="";s.setServerInfo();var m=a(function(){n.get(d).then(function(t){1==t.data.success&&(e.unReadMsgCount=t.data.data.count)},function(t){})},3e5);m.then(r,c,u)}function e(t,e,a,n,o){a.ready(function(){if(window.cordova&&window.cordova.plugins&&window.cordova.plugins.Keyboard&&(cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),cordova.plugins.Keyboard.disableScroll(!0)),window.StatusBar&&StatusBar.styleDefault(),window.codePush){var e;t.downloadMsg="";var a=function(t){e.close(),o.alert({title:"更新提示",template:"更新失败！"})},n=function(){e.close(),o.alert({title:"更新提示",template:"更新成功！"}).then(function(){codePush.restartApplication()})},i=function(t){return(t/1024).toFixed(2)},s=function(e){t.downloadMsg=i(e.receivedBytes)+"kb 共"+i(e.totalBytes)+"kb"},r=function(t){t.install(n,a,{installMode:InstallMode.ON_NEXT_RESUME,minimumBackgroundDuration:120,mandatoryInstallMode:InstallMode.ON_NEXT_RESTART})},c=function(n){n&&!n.failedInstall&&o.confirm({title:"更新提示",template:"有可用的新版本，是否需要更新？",cancelText:"否",okText:"是"}).then(function(i){i&&(e=o.show({template:"<span>正在下载 {{downloadMsg}}</span>",scope:t,title:"更新提示"}),n.download(r,a,s))})};window.codePush.checkForUpdate(c,a)}}),a.registerBackButtonAction(function(t){t.preventDefault();var a=e.path();return"/homePageNew"===a||"/login"===a?ionic.Platform.exitApp():n.backView?n.goBack():ionic.Platform.exitApp(),!1},101)}function a(t,e,a){a.platform.ios.tabs.style("standard"),a.platform.ios.tabs.position("bottom"),a.platform.android.tabs.style("standard"),a.platform.android.tabs.position("standard"),a.platform.ios.navBar.alignTitle("center"),a.platform.android.navBar.alignTitle("left"),a.platform.ios.backButton.previousTitleText("").icon("ion-ios-arrow-thin-left"),a.platform.android.backButton.previousTitleText("").icon("ion-android-arrow-back"),a.platform.ios.views.transition("ios"),a.platform.android.views.transition("android"),e.otherwise("/login")}a.$inject=["$stateProvider","$urlRouterProvider","$ionicConfigProvider"],t.$inject=["$scope","$rootScope","$interval","$http","$ionicHistory","$state","LoginService"],angular.module("app",["ionic","ngStorage","ngFileUpload","ng-echarts","ngCordova","app.login","app.home","app.savedData","app.waitForWork","app.assessment","app.planDetails","app.assessmentStatus","app.assessmentStatusDetails","app.addAssessment","app.addAssessmentMap","app.gridCheck","app.gridCheckMap","app.problemFeedback","app.problemFeedbackDetails","app.account","app.accountDetails","app.history","app.map","app.appReceivedMessage","app.messageContent","app.setting","app.setNet","app.commonHttpService","app.commonMap"]).run(e).config(a).constant("SYS_INFO",{SERVER_PATH:"http://172.72.100.240",SERVER_PORT:"8090",VERSION:"1.0.0",DIGITS:2}).controller("AppController",t),t.$inject.LoginService,e.$inject=["$rootScope","$location","$ionicPlatform","$ionicHistory","$ionicPopup"]}(),function(){"use strict";angular.module("app.account",[])}(),function(){"use strict";angular.module("app.assessment",[])}(),function(){"use strict";angular.module("app.gridCheck",[])}(),function(){"use strict";angular.module("app.history",[])}(),function(){"use strict";angular.module("app.home",[])}(),function(){"use strict";angular.module("app.login",[])}(),function(){"use strict";angular.module("app.map",[])}(),function(){"use strict";angular.module("app.appReceivedMessage",[])}(),function(){"use strict";angular.module("app.problemFeedback",[])}(),function(){"use strict";angular.module("app.setting",[])}(),function(){"use strict";angular.module("app.setNet",[])}(),function(){"use strict";angular.module("app.waitForWork",[])}(),function(){"use strict";angular.module("app.accountDetails",[])}(),function(){"use strict";angular.module("app.addAssessment",[])}(),function(){"use strict";angular.module("app.assessmentStatus",[])}(),function(){"use strict";angular.module("app.assessmentStatusDetails",[])}(),function(){"use strict";angular.module("app.planDetails",[])}(),function(){"use strict";angular.module("app.commonHttpService",[])}(),function(){"use strict";angular.module("app.commonMap",[])}(),function(){"use strict";angular.module("app.gridCheckMap",[])}(),function(){"use strict";angular.module("app.savedData",[])}(),function(){"use strict";angular.module("app.messageContent",[])}(),function(){"use strict";angular.module("app.problemFeedbackDetails",[])}(),function(){"use strict";angular.module("app.addAssessmentMap",[])}(),function(){"use strict";function t(t,e,a){function n(){o();for(var t=0;t<20;t++){var e={};e.cityPlace="市南区",e.accountType="山东路公厕",e.level="特级",c.accountList.push(e)}}function o(){e.getAccountList(function(t){})}function i(){e.getAccountListByQueryCriteria(function(t){})}function s(t){switch(t){case"全部类型":c.level=["全部类型"];break;case"道路":c.level=[];break;case"车辆":c.level=[];break;case"公厕":c.level=[];break;case"转运站":c.level=[];break;case"过街天桥":c.level=[];break;case"垃圾桶":c.level=[];break;case"作业台帐":c.level=[];break;case"收运台帐":c.level=[]}}function r(t){a.go("accountDetails",{accountData:t})}var c=this;c.title="环卫台帐",c.cityPlace=["全部区","市南","市北","李沧","崂山","黄岛","城阳"],c.accountType=["全部类型","道路","车辆","公厕","转运站","过街天桥","垃圾桶","作业台帐","收运台帐"],c.level=["全部子类"],c.queryCriteria={cityPlace:"",accountType:"",level:"",keyWord:""},c.accountList=[],c.fun={updateLevelArrayByType:s,getAccountListByQueryCriteria:i,toAccountDetails:r},n()}angular.module("app.account").controller("AccountController",t),t.$inject=["$scope","AccountService","$state"]}(),function(){"use strict";function t(t){t.state("account",{url:"/account",templateUrl:"templates/account/account.html"})}angular.module("app.account").config(t),t.$inject=["$stateProvider"]}(),function(){"use strict";function t(t,e){function a(t){var a="";e.getCommonData(a,t)}function n(){var t="";e.getCommonData(t,fun)}var o={getAccountList:a,getAccountListByQueryCriteria:n};return o}angular.module("app.account").service("AccountService",t),t.$inject=["$http","MyHttpService"]}(),function(){"use strict";function t(t,e,a,n,o,i,s){function r(){for(var t=0;t<10;t++);}function c(t){a.go("planDetails",{planDetailsData:t,fromWhere:"assessment"})}var u=this;u.title="综合考核",u.titleController={},u.toPlanDetails=c,u.planList=[{id:"cc07edd7-892a-4bf0-96dc-52301699663c",workName:"6月份考核计划",startTime:"2017/6/1",endTime:"2017/6/1"},{id:"cc07edd7-892a-4bf0-96dc-52301699663c",workName:"7月份考核计划",startTime:"2017/6/1",endTime:"2017/6/5"},{id:"cc07edd7-892a-4bf0-96dc-52301699663c",workName:"8月份考核计划",startTime:"2017/6/1",endTime:"2017/6/5"},{id:"cc07edd7-892a-4bf0-96dc-52301699663c",workName:"9月份考核计划",startTime:"2017/6/1",endTime:"2017/6/5"},{id:"cc07edd7-892a-4bf0-96dc-52301699663c",workName:"10月份考核计划",startTime:"2017/6/1",endTime:"2017/6/5"},{id:"cc07edd7-892a-4bf0-96dc-52301699663c",workName:"11月份考核计划",startTime:"2017/6/1",endTime:"2017/6/1"},{id:"cc07edd7-892a-4bf0-96dc-52301699663c",workName:"12月份考核计划",startTime:"2017/6/1",endTime:"2017/6/1"},{id:"4",workName:"9月份考核计划",startTime:"2017/6/1",endTime:"2017/6/5"},{id:"4",workName:"9月份考核计划",startTime:"2017/6/1",endTime:"2017/6/5"},{id:"4",workName:"9月份考核计划",startTime:"2017/6/1",endTime:"2017/6/5"},{id:"4",workName:"9月份考核计划",startTime:"2017/6/1",endTime:"2017/6/5"},{id:"4",workName:"9月份考核计划",startTime:"2017/6/1",endTime:"2017/6/5"},{id:"4",workName:"9月份考核计划",startTime:"2017/6/1",endTime:"2017/6/5"},{id:"4",workName:"9月份考核计划",startTime:"2017/6/1",endTime:"2017/6/5"},{id:"4",workName:"9月份考核计划",startTime:"2017/6/1",endTime:"2017/6/5"},{id:"4",workName:"9月份考核计划",startTime:"2017/6/1",endTime:"2017/6/5"},{id:"4",workName:"9月份考核计划",startTime:"2017/6/1",endTime:"2017/6/5"},{id:"4",workName:"9月份考核计划",startTime:"2017/6/1",endTime:"2017/6/5"},{id:"4",workName:"9月份考核计划",startTime:"2017/6/1",endTime:"2017/6/5"},{id:"4",workName:"9月份考核计划",startTime:"2017/6/1",endTime:"2017/6/5"},{id:"4",workName:"9月份考核计划",startTime:"2017/6/1",endTime:"2017/6/5"}],r()}angular.module("app.assessment").controller("AssessmentController",t),t.$inject=["$rootScope","$scope","$state","AssessmentService","$ionicLoading","$ionicPopup","$timeout","$ionicHistory"]}(),function(){"use strict";function t(t){t.state("assessment",{url:"/assessment",templateUrl:"templates/assessment/assessment.html"})}angular.module("app.assessment").config(t),t.$inject=["$stateProvider"]}(),function(){"use strict";function t(t,e,a){function n(t,e){var n=""+t;a.getCommonData(n,e)}var o={getPlanList:n};return o}angular.module("app.assessment").service("AssessmentService",t),t.$inject=["$http","SYS_INFO","MyHttpService"]}(),function(){"use strict";function t(t,e,a,n,o,i,s,r){function c(){a.mapData&&(m.uploadData.pickPosition=a.mapData),n.getGridCheckQuestionCodeArray(function(t){m.questionCode=t})}function u(){e.go("gridCheckMap")}function l(){var t={quality:50,destinationType:Camera.DestinationType.DATA_URL,sourceType:Camera.PictureSourceType.CAMERA,allowEdit:!0,encodingType:Camera.EncodingType.JPEG,targetWidth:200,targetHeight:200,popoverOptions:Camera.PopoverOptions,saveToPhotoAlbum:!0,correctOrientation:!0};$cordovaCamera.getPicture(t).then(function(t){var e=document.getElementById("gridCheckImg");e.src="data:image/jpeg;base64,"+t,m.uploadData.picName=moment().format("YYYY-MM-DD HH:mm:ss")+".jpeg",m.uploadData.picData=t},function(t){i.alert({title:"照片获取失败，请重新拍照"})})}function p(){o.getAddressByGPS(function(e){m.uploadData.district=e.district,m.uploadData.street=e.street,t.$apply()})}function d(){n.uploadGridCheckData(function(t){})}var m=this;m.title="网格化巡检",m.questionCode=[],m.uploadData={district:"",street:"",selectedQuesCode:"",question:"",picData:"",picName:"",pickPosition:[]},m.fun={toGridCheckMap:u,takeGridCheckPicture:l,getGridCheckLocation:p,uploadGridCheckData:d},c()}angular.module("app.gridCheck").controller("GridCheckController",t),t.$inject=["$scope","$state","$stateParams","GridCheckService","CommonMapService","$ionicPopup","$ionicLoading","$cordovaFileTransfer"]}(),function(){"use strict";function t(t){t.state("gridCheck",{url:"/gridCheck",params:{mapData:null},cache:!1,templateUrl:"templates/gridCheck/gridCheck.html"})}angular.module("app.gridCheck").config(t),t.$inject=["$stateProvider"]}(),function(){"use strict";function t(t,e,a){function n(e){var a="";t.getCommonData(a,e)}function o(e,a){var n="";t.uploadCommonData(n,e,a)}var i={getGridCheckQuestionCodeArray:n,uploadGridCheckData:o};return i}angular.module("app.gridCheck").service("GridCheckService",t),t.$inject=["MyHttpService","$ionicPopup","$ionicLoading"]}(),function(){"use strict";function t(t,e,a){function n(){for(var t=0;t<15;t++)s.historyList[t]={id:"1",workName:"6月份考核计划",year:"2017年",month:"六月"};for(var t=0;t<12;t++)s.monthArray[t]=t+1;console.log(s.monthArray);for(var t=0;t<5;t++)s.yeahArray[t]=s.thisYeah-t;a.getHistoryData($rootScope.userId,function(t){})}function o(t){e.go("planDetails",{assessmentData:t,fromWhere:"history"})}function i(){a.getHistoryDataByCondition(s.queryCriteria,function(t){})}var s=this;s.title="历史考核记录",s.fun={toPlanDetails:o,getHistoryDataByCondition:i},s.toPlanDetails=o,s.historyList=[],s.yeahArray=[],s.monthArray=[],s.thisYeah=moment().format("YYYY"),s.thisMonth=moment().format("M"),s.queryCriteria={keyword:"",selectedYeah:"",selectedMonth:""},n()}angular.module("app.history").controller("HistoryController",t),t.$inject=["$scope","$state","HistoryService"]}(),function(){"use strict";function t(t){t.state("history",{url:"/history",templateUrl:"templates/history/history.html"})}angular.module("app.history").config(t),t.$inject=["$stateProvider"]}(),function(){"use strict";function t(t){function e(e,a){var n="";t.getCommonData(n,a)}function a(e,a){var n="";t.getCommonData(n,a)}var n={getHistoryData:e,getHistoryDataByCondition:a};return n}angular.module("app.history").service("HistoryService",t),t.$inject=["MyHttpService"]}(),function(){"use strict";function t(t,e,a,n,o,i,s,r,c,u,l){function p(){r.getWeather(function(t){y.weather=t}),y.savedData=i.getSavedUploadedData(),y.savedData&&(y.hasSavedData=!0,y.saveDataNum=y.savedData.length)}function d(){n.go("waitForWork")}function m(){n.go("assessment")}function f(){n.go("gridCheck")}function g(){n.go("problemFeedback")}function A(){n.go("account")}function v(){n.go("history")}function h(){n.go("map")}function D(){n.go("recMessage")}function P(){n.go("setting")}function S(){n.go("savedData",{savedData:y.savedData})}var y=this;y.title="请选择工作",y.hasSavedData=!0,y.saveDataNum="20",y.savedData={},y.isCommonAccount=t.isCommonAccount,y.weather={},y.msgCount=t.unReadMsgCount,y.homeWorkController={toWaitForWork:d,toComprehensiveAssessment:m,toGridCheck:f,toProblemFeedback:g,toAccount:A,toHistory:v,toMap:h,toMessage:D,toSettings:P,toSavedData:S},p()}angular.module("app.home").controller("HomeController",t),t.$inject=["$rootScope","$localStorage","$scope","$state","$filter","HomeService","SYS_INFO","GetWeatherService","$stateParams","$interval","$cordovaCamera"]}(),function(){"use strict";function t(t){t.state("home",{url:"/home",cache:!0,templateUrl:"templates/home/home.html"})}angular.module("app.home").config(t),t.$inject=["$stateProvider"]}(),function(){"use strict";function t(t,e,a,n,o){function i(){return t.savedData?t.savedData:null}var s={getSavedUploadedData:i};return s}function e(t,e){function a(e){t.get(o).then(function(t){t.data?(i.weatherDate=moment().format("MM月DD日"),i.address="青岛",i.temperature=n(t.data),i.weather=t.data.data.forecast[0].type,e(i)):(i.weatherDate=moment().format("MM月DD日"),i.address="青岛",i.temperature="20度",i.weather="晴",e(i))},function(t){i.weatherDate=moment().format("MM月DD日"),i.address="青岛",i.temperature="20度",i.weather="晴",e(i)}),console.log(i)}function n(t){if(t.data){var e=t.data.forecast[0].low.substring(3,5),a=t.data.forecast[0].high.substring(3,5),n=e+"~"+a+"度";return n}return""}var o=e.SERVER_PATH+":"+e.SERVER_PORT+"/hwweb/Weather/WeatherJson.action",i={},s={getWeather:a};return s}angular.module("app.home").service("GetWeatherService",e).factory("HomeService",t),t.$inject=["$localStorage","$http","SYS_INFO","$interval","$rootScope"],e.$inject=["$http","SYS_INFO","$interval"]}(),function(){"use strict";function t(t,e,a,n){function o(){}function i(){e.go("setNet",{imei:t.imei})}function s(){a.login(t.info.userName,t.info.password,t.imei,t.isCommonAccount,t.info.isRemAccountAndPwd,t.info)}t.doLogin=s,t.setNetAddress=i,t.isCommonAccount=!1,t.userInfo=a.getUserInfo(),t.imei="123456",t.imei2="",t.info={userName:t.userInfo.userName,password:t.userInfo.password,isRemAccountAndPwd:t.userInfo.isRemAccountAndPwd},o()}var e=angular.module("app.login");e.controller("LoginController",t),t.$inject=["$scope","$state","LoginService","$cordovaDevice"]}(),function(){function t(t){t.state("login",{url:"/login",templateUrl:"templates/login/login.html"})}angular.module("app.login").config(t),t.$inject=["$stateProvider"]}(),function(){"use strict";function t(t,e,a,n,o,i,s,r,c){function u(t,i,r,c,u,d){o.show({template:"正在登录..."}),n(function(){o.hide()},3e4),i=hex_md5(i);var m="/hwweb/AppUser/userLogin.action?";switch(c){case!1:e.get(a.SERVER_PATH+":"+a.SERVER_PORT+m+"account="+t+"&password="+i+"&imei="+r).then(function(t){s.isCommonAccount=!1,l(t,u,d)},function(t){p(t)});break;case!0:e.get(a.SERVER_PATH+":"+a.SERVER_PORT+m+"account="+t+"&password="+i).then(function(t){s.isCommonAccount=!0,l(t,u,d)},function(t){p(t)})}}function l(t,e,a){console.log(t),"1"==t.data.success?n(function(){e?m(a):A(),d(t.data.data[0])},100).then(function(){o.hide(),c.go("home")}):(o.hide(),i.alert({title:t.data.msg}).then(function(t){}))}function p(t){o.hide(),i.alert({title:"登陆失败",template:t.data}).then(function(t){})}function d(t){t?(s.userId=t.id,s.userName=t.name,s.userOrg=t.org):(s.userId="",s.userName="",s.userOrg="")}function m(e){var a={userName:"",password:"",isRemAccountAndPwd:!1};e&&(a.userName=e.userName,a.password=e.password,a.isRemAccountAndPwd=e.isRemAccountAndPwd),t.userInfo=a}function f(){function t(){return r.getUUID()}document.addEventListener("deviceready",t,!1)}function g(){var e={userName:"",password:"",isRemAccountAndPwd:!1};return t.userInfo&&(e.userName=t.userInfo.userName,e.password=t.userInfo.password,e.isRemAccountAndPwd=t.userInfo.isRemAccountAndPwd),e}function A(){delete t.userInfo}function v(){var e={SERVER_PATH:"",SERVER_PORT:""};t.serverInfo?(a.SERVER_PATH=t.serverInfo.SERVER_PATH,a.SERVER_PORT=t.serverInfo.SERVER_PORT):(e.SERVER_PATH=a.SERVER_PATH,e.SERVER_PORT=a.SERVER_PORT,t.serverInfo=e)}var h={login:u,getUserInfo:g,setServerInfo:v,getImei:f};return h}angular.module("app.login").service("LoginService",t),t.$inject=["$localStorage","$http","SYS_INFO","$timeout","$ionicLoading","$ionicPopup","$rootScope","$cordovaDevice","$state"]}(),function(){"use strict";function t(t,e,a,n,o){function i(){o.getAccountList(function(t){}),s()}function s(){if(c.map=a.initMap(c.mapPositionObj.position),c.map.setZoom(17),c.markerPerson=new AMap.Marker,c.circle=new AMap.Circle({center:c.mapPositionObj.position,radius:50,strokeColor:"#9E9E9E",strokeOpacity:1,strokeWeight:0,fillColor:"#9E9E9E",fillOpacity:.35}),c.circle.setMap(c.map),c.mapPositionObj.roadPositionArray.length<=0){var t=new AMap.Icon({image:"../assets/global/map/position.png",size:new AMap.Size(32,32)});c.marker=new AMap.Marker({position:c.mapPositionObj.position,icon:t,offset:new AMap.Pixel(0,0)}),c.marker.setMap(c.map),c.map.setCenter(c.mapPositionObj.position)}else c.polyline=new AMap.Polyline({path:c.mapPositionObj.roadPositionArray,strokeColor:"#1C8B08",strokeWeight:5}),c.polyline.setMap(c.map),c.map.setZoom(17),c.centerPositionNum=parseInt(c.mapPositionObj.roadPositionArray.length/2),c.map.setCenter(c.mapPositionObj.roadPositionArray[centerPositionNum])}function r(){var t="";n.getCommonData(t,function(t){c.accountList=t[0],c.spinnerShow=!0})}var c=this;c.data={},c.title="地图查询",c.spinnerShow=!1,c.queryObj={account:[],keyword:""},c.accountList=[{account:"全部",selected:!0},{account:"公厕",selected:!1},{account:"街道",selected:!1},{account:"车辆",selected:!1},{account:"垃圾桶",selected:!1},{account:"收集站",selected:!1}],c.accountAddressData=[{name:"百度1",position:[],roadPositionArray:[]},{name:"百度2",position:[],roadPositionArray:[]},{name:"百度3",position:[],roadPositionArray:[]},{address:"百度4",position:[],roadPositionArray:[]}],c.map,c.marker,c.markerPerson,c.circle,c.polyline,c.centerPositionNum=0,c.mapPositionObj={address:"市南软件园2号楼",position:[120.41317,36.07705],roadPositionArray:[]},c.fun={getAccountsPostionData:r},i()}angular.module("app.map").controller("MapController",t),t.$inject=["$scope","GetWeatherService","CommonMapService","MyHttpService","MapService"]}(),function(){"use strict";function t(t){t.state("map",{url:"/map",templateUrl:"templates/map/map.html"})}angular.module("app.map").config(t),t.$inject=["$stateProvider"]}(),function(){"use strict";function t(t,e){function a(t){var a="";e.getCommonData(a,t)}var n={getAccountList:a};return n}angular.module("app.map").service("MapService",t),t.$inject=["$http","MyHttpService"]}(),function(){"use strict";function t(t,e){function a(){}function n(){}function o(t){}var i=this;i.title="已收到消息",i.refreshMessageList=n,i.openMsgContent=o,i.messages=[{title:"测试消息1",status:0,date:"2017/8/10",content:"有要事相讨~",attachmentAddress:"http://bpic.588ku.com/element_origin_min_pic/01/42/49/94573d7d67103c2.jpg"},{title:"测试消息1",status:1,date:"2017/8/10",content:"有要事相讨~",attachmentAddress:"http://bpic.588ku.com/element_origin_min_pic/01/42/49/94573d7d67103c2.jpg"},{title:"测试消息1",status:0,date:"2017/8/10",content:"有要事相讨~",attachmentAddress:"http://bpic.588ku.com/element_origin_min_pic/01/42/49/94573d7d67103c2.jpg"},{title:"测试消息1",status:1,date:"2017/8/10",content:"有要事相讨~",attachmentAddress:"http://bpic.588ku.com/element_origin_min_pic/01/42/49/94573d7d67103c2.jpg"}],a()}angular.module("app.appReceivedMessage").controller("MessageController",t),t.$inject=["$scope","MessageService"]}(),function(){"use strict";function t(t){t.state("recMessage",{url:"/recMessage",templateUrl:"templates/message/recMessage.html"})}angular.module("app.appReceivedMessage").config(t),t.$inject=["$stateProvider"]}(),function(){"use strict";function t(t,e){function a(){var a=e.SERVER_PATH+":"+e.SERVER_PORT;t.get(a,function(t){if(1==t.data.success){var e=t.date.data;return e}},function(t){})}var n={getMessage:a};return n}angular.module("app.appReceivedMessage").service("MessageService",t),t.$inject=["$http","SYS_INFO"]}(),function(){"use strict";function t(t,e,a,n,o){function i(){for(var e=0;e<15;e++)u.problemList[e]={id:"6",institutionsName:"山东路",type:"道路",status:"1",address:"燕儿岛路",question:"公厕不净",position:[120.41317,36.07705]};o.getProblemList(t.userId,function(t){u.problemList=t})}function s(t){c(t)}function r(t){0==t.status?c(t):a.alert({title:"提示",template:"您已经反馈过问题啦"}).then(function(t){})}function c(t){e.go("problemFeedbackDetails",{problemItem:t,fromWhere:"problemFeedbackDetails"})}var u=this;u.title="已收到的检查问题",u.fun={checkProblemDetails:s,feedbackProblem:r},u.problemList=[],i()}angular.module("app.problemFeedback").controller("ProblemFeedbackController",t),t.$inject=["$rootScope","$state","$ionicPopup","$scope","ProblemFeedbackService"]}(),function(){"use strict";function t(t){t.state("problemFeedback",{url:"/problemFeedback",templateUrl:"templates/problemFeedback/problemFeedback.html"})}angular.module("app.problemFeedback").config(t),t.$inject=["$stateProvider"]}(),function(){"use strict";function t(t){function e(e,a){var n=""+e;return t.getCommonData(n,a)}var a={getProblemList:e};return a}angular.module("app.problemFeedback").service("ProblemFeedbackService",t),t.$inject=["MyHttpService"]}(),function(){"use strict";function t(t,e,a){function n(){a.getWeather(function(t){o.weather=t})}var o=this;o.title="个人信息",o.group=t.userOrg,o.name=t.userName,o.weather={},n()}angular.module("app.setting").controller("SettingController",t),t.$inject=["$rootScope","$scope","GetWeatherService"]}(),function(){"use strict";function t(t){t.state("setting",{url:"/setting",templateUrl:"templates/setting/setting.html"})}angular.module("app.setting").config(t),t.$inject=["$stateProvider"]}(),function(){"use strict";function t(t){var e={};return e}angular.module("app.setting").service("userInfoService",t),t.$inject=["$http"]}(),function(){"use strict";function t(t,e,a,n,o){t.netSetList=[{placeholderValue:"服务器地址：",value:a.SERVER_PATH},{placeholderValue:"服务器端口：",value:a.SERVER_PORT}],t.IMEI=o.imei,t.setNet=function(){e.saveNetSettings(t.netSetList[0].value,t.netSetList[1].value,function(){n.goBack()})},t.backToLogin=function(){n.goBack()}}angular.module("app.setNet").controller("SetNetController",t),t.$inject=["$scope","SetNetService","SYS_INFO","$ionicHistory","$stateParams"]}(),function(){function t(t){t.state("setNet",{url:"/setNet",params:{imei:""},cache:!1,controller:"SetNetController",templateUrl:"templates/setNet/net.html"})}angular.module("app.setNet").config(t),t.$inject=["$stateProvider"]}(),function(){"use strict";function t(t,e){function a(a,n,o){var i={SERVER_PATH:a,SERVER_PORT:n};t.serverInfo=i,e.SERVER_PATH=i.SERVER_PATH,e.SERVER_PORT=i.SERVER_PORT,o()}var n={saveNetSettings:a};return n}angular.module("app.setNet").service("SetNetService",t),t.$inject=["$localStorage","SYS_INFO"]}(),function(){"use strict";function t(t,e,a,n){function o(){console.log(a.userId),e.getWaitForWorkInfo(a.userId,function(t){s.workList=t,console.log(s.workList)})}function i(t){"无"==t.sDate?n.go("problemFeedbackDetails",{problemItem:t,fromWhere:"waitForWork"}):n.go("planDetails",{planDetailsData:t,fromWhere:"waitForWork"})}var s=this;s.title="代办工作",s.titleController={},s.workList=[],s.toJobDetails=i,o()}angular.module("app.waitForWork").controller("WaitForWorkController",t),t.$inject=["$scope","WaitForWorkService","$rootScope","$state"]}(),function(){"use strict";function t(t){t.state("waitForWork",{url:"/waitForWork",templateUrl:"templates/waitForWork/waitForWork.html"})}angular.module("app.waitForWork").config(t),t.$inject=["$stateProvider"]}(),function(){"use strict";function t(t,e,a,n,o,i,s,r,c,u){function l(e,a){var n="/hwweb/AssignmentAssessment/findDataByUserId?userId="+e;t.getCommonData(n,a)}var p={getWaitForWorkInfo:l};return p}angular.module("app.waitForWork").service("WaitForWorkService",t),t.$inject=["MyHttpService","$localStorage","$http","SYS_INFO","$timeout","$ionicLoading","$ionicPopup","$rootScope","$cordovaDevice","$state"]}(),function(){"use strict";function t(t,e,a){function n(){null!=a.accountData}var o=this;o.data={},o.installationName="",o.accountDetailsData={},n()}angular.module("app.accountDetails").controller("AccountDetailsController",t),t.$inject=["$scope","AccountDetailsService","$stateParams"]}(),function(){"use strict";function t(t){t.state("accountDetails",{url:"/accountDetails",params:{accountData:null},templateUrl:"templates/account/accountDetails/accountDetails.html"})}angular.module("app.accountDetails").config(t),t.$inject=["$stateProvider"]}(),function(){"use strict";function t(t,e){function a(t){var a="";e.getCommonData(a,t)}var n={getAccountDetailsData:a};return n}angular.module("app.accountDetails").service("AccountDetailsService",t),t.$inject=["$http","MyHttpService"]}(),function(){"use strict";function t(t,e,a,n,o){function i(){p.mapPositionObj.roadPositionArray=o.getPositionArray(p.line),console.log(p.mapPositionObj.roadPositionArray)}function s(){a.go("addAssessmentMap",{mapPositionObj:p.mapPositionObj})}function r(){var t={quality:50,destinationType:Camera.DestinationType.DATA_URL,sourceType:Camera.PictureSourceType.CAMERA,allowEdit:!0,encodingType:Camera.EncodingType.JPEG,targetWidth:100,targetHeight:100,popoverOptions:CameraPopoverOptions,saveToPhotoAlbum:!1,correctOrientation:!0};$cordovaCamera.getPicture(t).then(function(t){p.picBase64DataArray.push("data:image/jpeg;base64,"+t)},function(t){})}function c(){var t={type:p.uploadData.type,address:p.uploadData.address};o.queryAccount(t,function(t){p.accountAddressData=t.accountAddressData,p.mapPositionArray=t.mapPositionArray,p.spinnerShow=!0})}function u(t){p.spinnerShow=!1,p.uploadData.level=t.info.level,p.uploadData.road=t.info.road,p.uploadData.length=t.info.length,p.uploadData.width=t.info.width}function l(t){p.picBase64DataArray.splice(t,1)}var p=this;p.data={},p.title="录入计划",p.spinnerShow=!1,p.picBase64DataArray=[],p.uploadData={type:"",address:"",level:"",road:"",length:"",points:"",width:"",reason:"",remark:"",img:[]},p.line="120.352728,36.086514,120.352788,36.086477,120.352849,36.08644,120.35291,36.086403,120.35297,36.086365,120.353031,36.086328,120.353092,36.086291,120.353152,36.086254,120.353213,36.086217,120.353283,36.086178,120.353354,36.086138,120.353425,36.086099,120.353425,36.086099",p.assessmentStatusDetailsList={},p.accountList={type:["道路","公厕"],reason:["道路不净","垃圾桶占路"]},p.accountAddressData=[{name:"百度1",position:[],roadPositionArray:[],info:{level:"",road:"",length:"",width:""}},{name:"百度2",position:[],roadPositionArray:[],info:{level:"",road:"",length:"",width:""}},{name:"百度3",position:[],roadPositionArray:[],info:{level:"",road:"",length:"",width:""}},{address:"百度4",position:[],roadPositionArray:[],info:{level:"",road:"",length:"",width:""}}],p.mapPositionObj={address:"市南软件园2号楼",position:[120.41317,36.07705],roadPositionArray:[]},p.fun={toAddAssessmentMap:s,takePicture:r,spinnerHide:u,queryAccount:c,deletePic:l},i()}angular.module("app.addAssessment").controller("AddAssessmentController",t),t.$inject=["$rootScope","$scope","$state","$stateParams","AddAssessmentService"]}(),function(){"use strict";function t(t){t.state("addAssessment",{url:"/addAssessment",templateUrl:"templates/assessment/addAssessment/addAssessment.html"})}angular.module("app.addAssessment").config(t),t.$inject=["$stateProvider"]}(),function(){"use strict";function t(t,e){function a(t,e,a,n){}function n(){document.addEventListener("deviceready",function(){var e={quality:50,destinationType:Camera.DestinationType.DATA_URL,sourceType:Camera.PictureSourceType.CAMERA,allowEdit:!0,encodingType:Camera.EncodingType.JPEG,targetWidth:100,targetHeight:100,popoverOptions:CameraPopoverOptions,saveToPhotoAlbum:!1,correctOrientation:!0};t.getPicture(e).then(function(t){var e=document.getElementById("myImage");e.src="data:image/jpeg;base64,"+t},function(t){})},!1)}function o(){document.addEventListener("deviceready",function(){var e={destinationType:Camera.DestinationType.FILE_URI,sourceType:Camera.PictureSourceType.CAMERA};t.getPicture(e).then(function(t){var e=document.getElementById("myImage");e.src=t},function(t){}),t.cleanup().then()},!1)}function i(t,a){var n="";e.getCommonData(n,a)}function s(t){var a="";e.getCommonData(a,t)}function r(t){var e=[];console.log(t);for(var a=t.split(","),n=0;n<a.length-1;n+=2){var o=new Array;o[0]=a[n],o[1]=a[n+1],e.push(o)}return e}var c={addNewAssessment:a,getPhonePictureData:n,getPhonePicturePath:o,queryAccount:i,queryAccountList:s,getPositionArray:r};return c}angular.module("app.addAssessment").service("AddAssessmentService",t),t.$inject=["$cordovaCamera","MyHttpService"]}(),function(){"use strict";function t(t,e,a,n,o,i,s){function r(){n.planDetailsData&&(p.data=n.planDetailsData,console.log(p.data),o.getAssessmentStatusList(p.data,function(t){p.assessmentStatusList=t}))}function c(){null!=p.data&&(null==p.data.status||0==p.data.status?o.checkOverAndUpload(p.data):s.alert({title:"该考核任务已经完成！",template:response.data}).then(function(t){}))}function u(){null!=p.data&&(null==p.data.status||0==p.data.status?a.go("assessmentStatusDetails",{assessmentStatusData:p.data,isEdit:!0}):s.alert({title:"该考核任务已经完成！"}).then(function(t){}))}function l(t){t.typeId=p.data.typeId,t.infraId=p.data.infraId,a.go("assessmentStatusDetails",{assessmentStatusData:t,isEdit:!1})}var p=this;p.title="考核情况",p.data={},p.fun={toAssessmentStatusDetails:u,upload:c,checkStatusDetails:l},p.assessmentStatusList=[],r()}angular.module("app.assessmentStatus").controller("AssessmentStatusController",t),t.$inject=["$rootScope","$scope","$state","$stateParams","AssessmentStatusService","$ionicLoading","$ionicPopup"]}(),function(){"use strict";function t(t){t.state("assessmentStatus",{url:"/assessmentStatus",params:{planDetailsData:null},cache:!1,templateUrl:"templates/assessment/assessmentStatus/assessmentStatus.html"})}angular.module("app.assessmentStatus").config(t),t.$inject=["$stateProvider"]}(),function(){"use strict";function t(t,e,a,n,o,i){function s(t,e){var n="/hwweb/AssignmentAssessment/findProView.action?planId="+t.planId+"&infrastructureId="+t.infraId+"&infoId="+t.id;a.getCommonData(n,e)}function r(a){n.show({template:'<div class="common-loading-dialog-center">  <ion-spinner icon="ios"></ion-spinner>&nbsp;&nbsp;  <span>数据上传中...</span></div>',duration:1e4});var s="/hwweb/AssignmentAssessment/complete.action?planId="+a.planId+"%infraId="+a.infraId;t({method:"GET",url:e.SERVER_PATH+":"+e.SERVER_PORT+s}).then(function(t){1==t.data.success&&o.alert({title:"提示",template:"考核完成..."}).then(function(t){i.goBack()})},function(t){o.alert({title:"失败提示",template:"上传失败，请重试！"}).then(function(t){})})}var c={getAssessmentStatusList:s,checkOverAndUpload:r};return c}angular.module("app.assessmentStatus").service("AssessmentStatusService",t),t.$inject=["$http","SYS_INFO","MyHttpService","$ionicLoading","$ionicPopup","$ionicHistory"]}(),function(){"use strict";function t(t,e,a,n,o,i,s,r,c,u){function l(){A.isEdit=o.isEdit,A.serverUrl=e.SERVER_PATH+":"+e.SERVER_PORT+"/hwweb",o.assessmentStatusData&&(A.data=o.assessmentStatusData,A.title=o.assessmentStatusData.name,console.log(A.data),A.isEdit?(f(),i.getAssessmentStatusDetailsListIsEdit(A.data,function(t){A.assessmentStatusDetails=t[0],A.assessmentStatusDetails&&(A.type=A.assessmentStatusDetails.type)})):i.getAssessmentStatusDetailsListNotEdit(A.data,function(t){A.assessmentStatusDetails=t[0],A.assessmentStatusDetails&&(A.type=A.assessmentStatusDetails.type,
A.reasonAccount[0]=A.assessmentStatusDetails.dItem,A.uploadData.points=A.assessmentStatusDetails.deducted,A.uploadData.reason=A.assessmentStatusDetails.dItem,A.uploadData.remarks=A.assessmentStatusDetails.remarks,A.picBase64DataArray=A.assessmentStatusDetails.imgs)}))}function p(){if(""==A.uploadData.points)r.alert({title:"扣分情况不能为空"});else if(""==A.uploadData.reason)r.alert({title:"扣分原因不能为空"});else if(""==A.uploadData.remark)r.alert({title:"备注不能为空"});else{var e={infoId:"",planId:"",infraId:"",dItemName:"",score:"",userName:"",remark:"",imgJson:[]};e.infoId=A.data.id,e.planId=A.data.planId,e.infraId=A.data.infraId,e.dItemName=A.uploadData.reason,e.score=A.uploadData.points,e.userName=t.userName,e.remark=A.uploadData.remark,e.imgJson=A.uploadPicBase64DataArray,i.uploadAssessmentStatusDetailsData(e,function(t){u.goBack()})}}function d(){if(A.picBase64DataArray.length>=3)r.alert({title:"最多支持上传三张图片"}).then(function(){});else{var t={quality:100,destinationType:Camera.DestinationType.DATA_URL,sourceType:Camera.PictureSourceType.CAMERA,allowEdit:!1,encodingType:Camera.EncodingType.JPEG,targetWidth:200,targetHeight:200,popoverOptions:CameraPopoverOptions,saveToPhotoAlbum:!0,correctOrientation:!0};c.getPicture(t).then(function(t){var e=moment().format("YYYY-MM-DD HH:mm:ss")+".jpg";A.picNameArray.push(e),A.picBase64DataArray.push("data:image/jpeg;base64,"+t),A.uploadPicBase64DataArray.push(t)},function(t){})}}function m(){n.go("addAssessmentMap",{mapPositionObj:A.assessmentStatusDetailsList,from:"assessmentStatusDetails"})}function f(){i.getAccounts(A.data,function(t){A.reasonAccount=t,console.log("扣分原因数据："),console.log(A.reasonAccount)})}function g(t){A.picBase64DataArray.splice(t,1),A.uploadPicBase64DataArray.push(t,1),A.picNameArray.push(t,1)}var A=this;A.data={},A.title="",A.type="05",A.isEdit=!1,A.assessmentStatusDetails={},A.reasonAccount=[],A.picBase64DataArray=[],A.serverUrl="",A.uploadPicBase64DataArray=["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"],A.picNameArray=[],A.uploadData={points:"",reason:"",remarks:""},A.fun={uploadAssessmentStatusDetailsData:p,toCommonMap:m,takePicture:d,deletePic:g},l()}angular.module("app.assessmentStatusDetails").controller("AssessmentStatusDetailsController",t),t.$inject=["$rootScope","SYS_INFO","$scope","$state","$stateParams","AssessmentStatusDetailsService","$ionicLoading","$ionicPopup","$cordovaCamera","$ionicHistory"]}(),function(){"use strict";function t(t){t.state("assessmentStatusDetails",{url:"/assessmentStatusDetails",params:{assessmentStatusData:null,isEdit:!1},templateUrl:"templates/assessment/assessmentStatusDetails/assessmentStatusDetails.html"})}angular.module("app.assessmentStatusDetails").config(t),t.$inject=["$stateProvider"]}(),function(){"use strict";function t(t){function e(e,a){var n="/hwweb/AssignmentAssessment/findFacilities.action?typeId="+e.typeId+"&infraId="+e.infraId;t.getCommonData(n,a)}function a(e,a){var n="/hwweb/AssignmentAssessment/findFacilitiesViews.action?typeId="+e.typeId+"&infraId="+e.infraId+"&resultsId="+e.id;t.getCommonData(n,a)}function n(e,a){var n="/hwweb/AssignmentAssessment/findDItem.action?typeId="+e.typeId;t.getCommonData(n,a)}function o(e,a){var n="/hwweb/AssignmentAssessment/reportPro.action",o=JSON.stringify(e);t.uploadCommonData(n,o,a)}var i={getAssessmentStatusDetailsListIsEdit:e,getAssessmentStatusDetailsListNotEdit:a,getAccounts:n,uploadAssessmentStatusDetailsData:o};return i}angular.module("app.assessmentStatusDetails").service("AssessmentStatusDetailsService",t),t.$inject=["MyHttpService"]}(),function(){"use strict";function t(t,e,a,n,o){function i(){switch(null==c.fromWhere&&(c.fromWhere="waitForWork"),n.planDetailsData&&(c.data=n.planDetailsData,c.title=c.data.planName),c.fromWhere){case"waitForWork":break;case"assessment":break;case"history":}o.getPlanDetailsList(c.data.id,c.fromWhere,function(t){c.planDetailsList=t})}function s(){a.go("addAssessment")}function r(t){t.planId=c.data.id,a.go("assessmentStatus",{planDetailsData:t})}var c=this;c.data={},c.title="",c.fromWhere=n.fromWhere,c.fun={toAddAssessment:s},c.toAssessmentStatus=r,c.planDetailsList=[],i()}angular.module("app.planDetails").controller("PlanDetailsController",t),t.$inject=["$rootScope","$scope","$state","$stateParams","PlanDetailsService"]}(),function(){"use strict";function t(t){t.state("planDetails",{url:"/assessment/planDetails",params:{planDetailsData:null,formWhere:""},cache:!1,templateUrl:"templates/assessment/planDetails/planDetails.html"})}angular.module("app.planDetails").config(t),t.$inject=["$stateProvider"]}(),function(){"use strict";function t(t,e,a){function n(t,e,n){var o="";switch(e){case"waitForWork":o="/hwweb/AssignmentAssessment/findPlanView.action?planId="+t,a.getCommonData(o,n);break;case"assessment":o="/hwweb/AssignmentAssessment/findPlanView.action?planId="+t,a.getCommonData(o,n)}}var o={getPlanDetailsList:n};return o}angular.module("app.planDetails").service("PlanDetailsService",t),t.$inject=["$http","SYS_INFO","MyHttpService"]}(),function(){"use strict";function t(t,e,a,n){function o(o,i){console.log(n.SERVER_PATH+":"+n.SERVER_PORT+o);var s=[];e.show({templateUrl:"templates/common/common.loadingData.html",duration:2e4}),t({method:"GET",url:n.SERVER_PATH+":"+n.SERVER_PORT+o}).then(function(t){1==t.data.success?(e.hide(),s=t.data.data,console.log("数据获取成功"),console.log(s),i(s)):(e.hide(),a.alert({title:t.data.msg}).then(function(t){console.log("数据获取失败"),console.log(s),i(s)}))},function(t){e.hide(),a.alert({title:"获取数据失败"}).then(function(t){console.log("通信异常"),console.log(s),i(s)})})}function i(o,i,s){e.show({template:'<div class="common-loading-dialog-center">  <ion-spinner icon="ios"></ion-spinner>&nbsp;&nbsp;  <span>数据上传中...</span></div>',duration:1e4});var r=n.SERVER_PATH+":"+n.SERVER_PORT+o;console.log(r),console.log(i),t({method:"post",url:r,data:{data:i},headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:function(t){var e=[];for(var a in t)e.push(encodeURIComponent(a)+"="+encodeURIComponent(t[a]));return e.join("&")}}).then(function(t){(t.data.success=1)?(e.hide(),a.alert({title:"提示",template:t.data.msg}).then(function(t){s(t)})):(e.hide(),a.alert({title:"数据上传失败"}))},function(t){e.hide(),a.alert({title:"数据上传失败"})})}var s={getCommonData:o,uploadCommonData:i};return s}angular.module("app.commonHttpService").service("MyHttpService",t),t.$inject=["$http","$ionicLoading","$ionicPopup","SYS_INFO"]}(),function(){"use strict";function t(t,e,a,n){function o(){switch(r.fromWhere){case"gridCheck":null==r.data||void 0==r.data?n.initMap():(r.map=n.initMap(),n.getCoordinateInfo(function(t){r.marker=n.initMyPosition(r.map,t),r.map.on("click",function(t){marker.setPosition(t.lnglat),r.postion=t.lnglat,console.log(t.lnglat)})}));break;case"addAssessment":}}function i(){n.getCoordinateInfo(function(t){r.marker.setPosition(t),r.map.setZoom(12),r.map.setCenter(t)})}function s(){$state.go("gridCheck",{position:r.postion})}var r=this;r.data={},r.title="地图详情",r.fun={},r.data=a.data,r.fromWhere=a.from,r.map,r.marker,r.postion=[],r.fun={refreshMyPosition:i,sendPosition:s},o()}angular.module("app.commonMap").controller("CommonMapController",t),t.$inject=["$rootScope","$scope","$stateParams","CommonMapService"]}(),function(){"use strict";function t(t){t.state("commonMap",{url:"/commonMap",params:{data:null,from:""},templateUrl:"templates/common/map/commonMap.html"})}angular.module("app.commonMap").config(t),t.$inject=["$stateProvider"]}(),function(){"use strict";function t(t,e,a,n,o){function i(){e.show({template:'<div class="common-loading-dialog-center">  <ion-spinner icon="ios"></ion-spinner>&nbsp;&nbsp;  <span>地图数据加载中...</span></div>',duration:5e3});var t=new AMap.Map("map",{resizeEnable:!0,zoom:12,lang:"zh_cn"});return t.plugin(["AMap.ToolBar"],function(){var e=new AMap.ToolBar;t.addControl(e)}),e.hide(),t}function s(t){e.show({template:'<div class="common-loading-dialog-center">  <ion-spinner icon="ios"></ion-spinner>&nbsp;&nbsp;  <span>地图数据加载中...</span></div>',duration:5e3});new AMap.Map("map");map.setZoom(10),map.setCenter([116.39,39.9]),e.hide()}function r(t,a){e.show({template:'<div class="common-loading-dialog-center">  <ion-spinner icon="ios"></ion-spinner>&nbsp;&nbsp;  <span>地图数据加载中...</span></div>',duration:2e4});var a=new AMap.LngLat(116.397428,39.90923);new AMap.Map("map",{view:new AMap.View2D({center:a,zoom:10,rotation:0}),lang:"zh_cn"});e.hide()}function c(t,e){t.setCenter(e);var a=new AMap.Marker({position:e});return a.setMap(t),a.setTitle("我的位置"),a}function u(t){e.show({template:'<div class="common-loading-dialog-center">  <ion-spinner icon="ios"></ion-spinner>&nbsp;&nbsp;  <span>定位中...</span></div>',duration:1e4});var a=new Array;o.getCurrentPosition({timeout:1e4,enableHighAccuracy:!1}).then(function(n){a[0]=n.coords.longitude,a[1]=n.coords.latitude,t(a),e.hide(),console.log("定位成功，坐标数组："+a)},function(n){a[0]=120.41317,a[1]=36.07705,t(a),e.hide(),console.log("获取坐标失败：code:"+n.code+"***msg:"+n.msg)})}function l(t){var e={};return AMap.plugin("AMap.Geocoder",function(){var a=new AMap.Geocoder({city:"010"});a.getAddress(t,function(t,a){if("complete"==t)return e.district=a.regeocode.addressComponent.city+a.regeocode.addressComponent.district,e.street=a.regeocode.addressComponent.street,console.log(a),e})}),e}function p(t){e.show({template:'<div class="common-loading-dialog-center">  <ion-spinner icon="ios"></ion-spinner>&nbsp;&nbsp;  <span>定位中...</span></div>',duration:1e4});var a=[];o.getCurrentPosition({timeout:1e4,enableHighAccuracy:!1}).then(function(n){a[0]=n.coords.longitude,a[1]=n.coords.latitude,e.hide(),console.log("定位成功，坐标数组："+a),AMap.plugin("AMap.Geocoder",function(){var e=new AMap.Geocoder({city:"010"});e.getAddress(a,function(e,a){if("complete"==e){var n={};n.district=a.regeocode.addressComponent.city+a.regeocode.addressComponent.district,n.street=a.regeocode.addressComponent.street,t(n),console.log(a)}else console.log("获取地理位置信息失败！"+e+a)})})},function(a){var n=[120.41317,36.07705];e.hide(),console.log("获取坐标失败：code:"+a.code+"***msg:"+a.msg),AMap.plugin("AMap.Geocoder",function(){var e=new AMap.Geocoder({city:"010"});e.getAddress(n,function(e,a){if("complete"==e){var n={};n.district=a.regeocode.addressComponent.city+a.regeocode.addressComponent.district,n.street=a.regeocode.addressComponent.street,t(n),console.log(a)}else console.log("获取地理位置信息失败！"+e+a)})})})}var d={initMap:i,initRoadMap:s,initInstallationMap:r,initMyPosition:c,getCoordinateInfo:u,getAddressByLatitudeAndLongitude:l,getAddressByGPS:p};return d}angular.module("app.commonMap").service("CommonMapService",t),t.$inject=["$http","$ionicLoading","$ionicPopup","SYS_INFO","$cordovaGeolocation"]}(),function(){"use strict";function t(t,e,a,n,o){function i(){c.map=n.initMap(),n.getCoordinateInfo(function(t){c.map.setZoom(15),c.marker=n.initMyPosition(c.map,t),c.map.on("click",function(t){c.marker.setPosition(t.lnglat),c.postion=t.lnglat,console.log(t.lnglat)})})}function s(){n.getCoordinateInfo(function(t){c.marker.setPosition(t),c.map.setZoom(15),c.map.setCenter(t)})}function r(){o.go("gridCheck",{mapData:c.postion})}var c=this;c.title="地图详情",c.map=null,c.marker=null,c.postion=[],c.fun={refreshMyPosition:s,sendPosition:r},i()}angular.module("app.gridCheckMap").controller("GridCheckMapController",t),t.$inject=["$rootScope","$scope","$stateParams","CommonMapService","$state"]}(),function(){"use strict";function t(t){t.state("gridCheckMap",{url:"/gridCheckMap",templateUrl:"templates/gridCheck/gridCheckMap/gridCheckMap.html"})}angular.module("app.gridCheckMap").config(t),t.$inject=["$stateProvider"]}(),function(){"use strict";function t(t,e,a,n,o,i,s,r,c){function u(){d.savedData=c.getSavedUploadedData()}function l(t){}function p(t){}var d=this;d.title="本地内容",d.savedData={data:[{time:"2017/8/10/pm8:00",address:"山东路",points:"-1",reason:"道路不净",remark:"这是备注",img:[]},{time:"2017/8/10/pm6:00",address:"银川路",points:"-2",reason:"垃圾桶占路",remark:"这是备注",img:[]},{time:"2017/8/10/pm9:00",address:"镇江路",points:"-1",reason:"道路不净",remark:"这是备注",img:[]},{time:"2017/8/10/pm10:00",address:"江西路",points:"-2",reason:"垃圾桶占路",remark:"这是备注",img:[]}]},d.fun={uploadData:l,deleteSavedData:p},u()}angular.module("app.savedData").controller("SavedDataController",t),t.$inject=["$scope","$state","$filter","Session","homeService","SYS_INFO","GetWeather","$stateParams","SavedDataService"]}(),function(){"use strict";function t(t){t.state("savedData",{url:"/savedData",cache:!0,params:{savedData:null},templateUrl:"templates/home/savedData/savedData.html"})}angular.module("app.savedData").config(t),t.$inject=["$stateProvider"]}(),function(){"use strict";function t(t,e,a,n,o,i){function s(){if(i.savedData)return i.savedData}function r(t){}function c(){}var u={getSavedUploadedData:s,uploadData:r,deleteSavedData:c};return u}angular.module("app.savedData").service("SavedDataService",t),t.$inject=["$http","SYS_INFO","Session","$interval","$localStorage","$stateParams"]}(),function(){"use strict";function t(t){function e(){}var a=this;a.title="消息详情",e()}angular.module("app.messageContent").controller("MessageContentController",t),t.$inject=["$scope"]}(),function(){"use strict";function t(t){t.state("messageContent",{url:"/messageContent",templateUrl:"templates/message/messageContent/messageContent.html"})}angular.module("app.messageContent").config(t),t.$inject=["$stateProvider"]}(),function(){"use strict";function t(t){var e={};return e}angular.module("app.messageContent").service("MessageContentService",t),t.$inject=["$http"]}(),function(){"use strict";function t(t,e,a){function n(){null==s.problemDetails&&(s.problemDetails={},s.problemDetails.postion=[120.41317,36.07705],s.problemDetails.address="燕儿岛路"),a.getProblemFeedbackDetailsMap(s.problemDetails)}function o(){var t={quality:100,destinationType:Camera.DestinationType.DATA_URL,sourceType:Camera.PictureSourceType.CAMERA,allowEdit:!0,encodingType:Camera.EncodingType.JPEG,targetWidth:200,targetHeight:200,popoverOptions:CameraPopoverOptions,saveToPhotoAlbum:!0,correctOrientation:!0};$cordovaCamera.getPicture(t).then(function(t){var e=document.getElementById("problemFeedbackDetailsImg");e.src="data:image/jpeg;base64,"+t},function(t){})}function i(){a.uploadProblemFeedbackData(s.problemFeedbackData,s.fromWhere)}var s=this;s.title="问题详情",s.fromWhere=e.fromWhere,s.problemDetails=e.problemItem,s.feedBack="",s.footerContent="确定",s.fun={initCamera:o,uploadProblemFeedbackData:i},s.problemFeedbackData={},s.uploadData={},n()}angular.module("app.problemFeedbackDetails").controller("ProblemFeedbackDetailsController",t),t.$inject=["$scope","$stateParams","ProblemFeedbackDetailsService"]}(),function(){"use strict";function t(t){t.state("problemFeedbackDetails",{url:"/problemFeedbackDetails",params:{problemItem:null,fromWhere:""},templateUrl:"templates/problemFeedback/problemFeedbackDetails/problemFeedbackDetails.html"})}angular.module("app.problemFeedbackDetails").config(t),t.$inject=["$stateProvider"]}(),function(){"use strict";function t(t,e,a){function n(t){var e=new AMap.Map("problemFeedbackDetailsMap",{resizeEnable:!0,zoom:18,center:t.position});new AMap.Marker({position:t.position,title:t.address,map:e});e.plugin(["AMap.ToolBar"],function(){var t=new AMap.ToolBar;e.addControl(t)})}function o(t,a){switch(e.show({template:'<div class="common-loading-dialog-center">  <ion-spinner icon="ios"></ion-spinner>&nbsp;&nbsp;  <span>数据上传中...</span></div>',duration:1e4}),a){case"problemFeedbackDetails":break;case"waitForWork":}}var i={getProblemFeedbackDetailsMap:n,uploadProblemFeedbackData:o};return i}angular.module("app.problemFeedbackDetails").service("ProblemFeedbackDetailsService",t),t.$inject=["$http","$ionicLoading","$ionicPopup"]}(),function(){"use strict";function t(t,e,a,n,o,i){function s(){l.from?l.from=n.from:l.from="addAssessment",null!=n.mapPositionObj&&(l.mapPositionObj=n.mapPositionObj,console.log(l.mapPositionObj)),r()}function r(){l.map=o.initMap(l.mapPositionObj.position),l.markerPerson=new AMap.Marker,l.mapPositionObj.roadPositionArray.length<=0?(l.marker=new AMap.Marker({position:l.mapPositionObj.position,icon:new AMap.Icon({size:new AMap.Size(32,32),image:"/www/assets/global/img/position.png",imageOffset:new AMap.Pixel(0,0)})}),l.marker.setMap(l.map),l.map.setCenter(l.mapPositionObj.position)):(l.polyline=new AMap.Polyline({path:l.mapPositionObj.roadPositionArray,strokeColor:"#1C8B08",strokeWeight:5}),l.polyline.setMap(l.map),l.map.setZoom(17),l.centerPositionNum=parseInt(l.mapPositionObj.roadPositionArray.length/2),l.map.setCenter(l.mapPositionObj.roadPositionArray[centerPositionNum]))}function c(){o.getCoordinateInfo(function(t){l.markerPerson.setPosition(t),l.map.setZoom(13),l.markerPerson.setMap(l.map),l.map.setCenter(t)})}function u(){l.mapPositionObj.roadPositionArray.length<=0?l.map.setCenter(l.mapPositionObj.position):l.map.setCenter(l.mapPositionObj.roadPositionArray[centerPositionNum])}var l=this;l.data={},l.title="地图详情",l.from="",l.map,l.marker,l.markerPerson,l.polyline,l.centerPositionNum=0,l.fun={refreshMyPosition:c,refreshRoadOrInstallationPosition:u},l.mapPositionObj={address:"市南软件园2号楼",position:[120.41317,36.07705],roadPositionArray:[["120.352728","36.086514"],["120.352788","36.086477"],["120.352849","36.08644"],["120.35291","36.086403"],["120.35297","36.086365"],["120.353031","36.086328"],["120.353092","36.086291"],["120.353152","36.086254"],["120.353213","36.086217"],["120.353283","36.086178"],["120.353354","36.086138"],["120.353425","36.086099"],["120.353425","36.086099"]]},s()}angular.module("app.addAssessment").controller("AddAssessmentMapController",t),t.$inject=["$rootScope","$scope","$state","$stateParams","CommonMapService","AddAssessmentMapService"]}(),function(){"use strict";function t(t){t.state("addAssessmentMap",{url:"/addAssessmentMap",params:{mapPositionObj:null,from:null},templateUrl:"templates/assessment/addAssessment/addAssessmentMap/addAssessmentMap.html"})}angular.module("app.addAssessmentMap").config(t),t.$inject=["$stateProvider"]}(),function(){"use strict";function t(t,e,a,n){function o(){}var i={initAddAssessmentMap:o};return i}angular.module("app.addAssessmentMap").service("AddAssessmentMapService",t),t.$inject=["$http","SYS_INFO","$cordovaCamera","CommonMapService"]}();